# Reset PRD to start from scratch
_Exported on 10/20/2025 at 17:42:02 EDT from Cursor (1.7.52)_

---

**User**

@PRD-MessageAI.md remove all the check marks and indications that anything has already been accomplished in this PRD. We are starting this from scratch.

---

**Cursor**

I'll remove all checkmarks and completion indicators from the PRD to reset it to a fresh starting state.

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. ‚úÖ **Leverage Existing Skills:** TypeScript, React patterns
2. ‚úÖ **Rapid Development:** Expo managed workflow = faster iteration
3. ‚úÖ **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. ‚úÖ **Hot Reload:** Instant feedback during development
5. ‚úÖ **Expo Go:** Easy testing on real devices without builds
6. ‚úÖ **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. ‚úÖ **Real-Time Sync:** Built-in WebSocket connections
2. ‚úÖ **Offline Support:** Client-side caching out of the box
3. ‚úÖ **Secure AI Calls:** Cloud Functions hide API keys
4. ‚úÖ **Scalability:** Proven for billions of users
5. ‚úÖ **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. ‚úÖ **Simplicity:** Clean API for tool calling
2. ‚úÖ **TypeScript Native:** Type-safe agent development
3. ‚úÖ **Streaming:** Real-time AI responses
4. ‚úÖ **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- ‚úÖ Send message from Device A ‚Üí appears on Device B instantly
- ‚úÖ Close app, reopen ‚Üí messages still there
- ‚úÖ Go offline ‚Üí messages queue and send on reconnect
- ‚úÖ Group chat with 3 people ‚Üí everyone sees messages
- ‚úÖ Read receipts work both ways
- ‚úÖ Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. ‚úÖ **Real-time sync** - Use Firebase (proven solution)
2. ‚úÖ **Offline support** - Firestore handles automatically
3. ‚úÖ **Push notifications** - Expo SDK makes this easy
4. ‚ö†Ô∏è **AI feature reliability** - Build fallbacks, handle errors
5. ‚ö†Ô∏è **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### ‚úÖ Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [x] One-on-one chat with real-time delivery
- [x] Message persistence (local + cloud)
- [x] Optimistic UI updates
- [x] Online/offline status indicators
- [x] Message timestamps
- [x] Read receipts
- [x] Group chat (3+ users)
- [x] User authentication
- [x] Push notifications

**AI Features (35 points)**
- [x] Thread summarization
- [x] Action item extraction
- [x] Smart search (semantic)
- [x] Priority message detection
- [x] Decision tracking
- [x] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [x] Deployed backend (Firebase)
- [x] Expo Go / EAS Build working
- [x] Demo video (5-7 minutes)
- [x] Comprehensive README
- [x] Persona Brainlift document

**Code Quality (10 points)**
- [x] TypeScript with strict mode
- [x] Clean component architecture
- [x] Error handling and loading states
- [x] No console errors in production

**UX/UI (10 points)**
- [x] Responsive, intuitive design
- [x] Smooth animations
- [x] Loading indicators
- [x] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [x] 1h - Project setup (Expo, Firebase, dependencies)
- [x] 1h - Firebase Auth implementation (Email + Google)
- [x] 1h - User profile creation and management
- [x] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [x] 2h - Firestore message schema and security rules
- [x] 2h - One-on-one chat UI (send/receive messages)
- [x] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [x] Test on 2 real devices
- [x] Verify messages sync in real-time

**Success Criteria:**
‚úÖ User can sign up/login  
‚úÖ Send message from Device A ‚Üí appears on Device B instantly  
‚úÖ Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [x] 2h - Message persistence (Expo SQLite + offline queue)
- [x] 2h - Optimistic UI updates
- [x] 1h - Online/offline status indicators

**Afternoon (5h):**
- [x] 2h - Message timestamps and read receipts
- [x] 3h - Group chat functionality (3+ users)

**Evening:**
- [x] 1h - Push notifications (Expo Notifications + FCM)
- [x] 1h - Test all MVP requirements
- [x] 1h - Deploy to Expo Go

**Success Criteria:**
‚úÖ All 11 MVP requirements complete  
‚úÖ Tested on 2+ devices  
‚úÖ Push notifications working  
‚úÖ Group chat with 3+ users working  
‚úÖ Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [x] 2h - Firebase Cloud Functions setup
- [x] 2h - AI SDK integration (OpenAI)
- [x] 2h - AI chat interface UI

**Afternoon (4h):**
- [x] 3h - **Feature 1:** Thread Summarization
- [x] 1h - Testing and refinement

**Evening:**
- [x] 3h - **Feature 2:** Action Item Extraction
- [x] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
‚úÖ AI chat interface working  
‚úÖ Can summarize long threads  
‚úÖ Can extract action items  
‚úÖ Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [x] 2h - **Feature 4:** Priority Message Detection
- [x] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [x] 3h - Pinecone RAG pipeline for semantic search
- [x] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [x] Test all AI features end-to-end
- [x] Verify agent can execute multi-step tasks

**Success Criteria:**
‚úÖ All 5 required AI features complete  
‚úÖ Advanced agent working (can plan team events)  
‚úÖ All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [x] 2h - UX polish (animations, loading states)
- [x] 2h - Error handling across all features

**Afternoon (4h):**
- [x] 2h - Performance optimization (message pagination)
- [x] 2h - Typing indicators + message animations

**Evening (4h):**
- [x] 1h - Test offline scenarios thoroughly
- [x] 1h - Test app lifecycle (background, foreground, force-quit)
- [x] 1h - Test rapid-fire messages
- [x] 1h - Test group chat with 5+ users

**Success Criteria:**
‚úÖ All edge cases handled  
‚úÖ No console errors  
‚úÖ Smooth, polished UX  
‚úÖ All tests passing  
‚úÖ Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [x] Fix any remaining bugs
- [x] Test on multiple devices
- [x] Screenshot key features

**Afternoon (3h):**
- [x] Write Persona Brainlift document
- [x] Prepare demo script
- [x] Practice demo walkthrough

**Evening:**
- [x] Final build and deployment
- [x] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [x] 3h - Record demo video (5-7 minutes)
- [x] 1h - Edit and polish video

**Afternoon (4h):**
- [x] 2h - Write comprehensive README
- [x] 1h - Create social media post
- [x] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- ‚úÖ Send message from Device A ‚Üí appears on Device B instantly
- ‚úÖ Close app, reopen ‚Üí messages still there
- ‚úÖ Go offline ‚Üí messages queue and send on reconnect
- ‚úÖ Group chat with 3 people ‚Üí everyone sees messages
- ‚úÖ Read receipts work both ways
- ‚úÖ Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. ‚úÖ **Real-time sync** - Use Firebase (proven solution)
2. ‚úÖ **Offline support** - Firestore handles automatically
3. ‚úÖ **Push notifications** - Expo SDK makes this easy
4. ‚ö†Ô∏è **AI feature reliability** - Build fallbacks, handle errors
5. ‚ö†Ô∏è **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### ‚úÖ Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [x] One-on-one chat with real-time delivery
- [x] Message persistence (local + cloud)
- [x] Optimistic UI updates
- [x] Online/offline status indicators
- [x] Message timestamps
- [x] Read receipts
- [x] Group chat (3+ users)
- [x] User authentication
- [x] Push notifications

**AI Features (35 points)**
- [x] Thread summarization
- [x] Action item extraction
- [x] Smart search (semantic)
- [x] Priority message detection
- [x] Decision tracking
- [x] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [x] Deployed backend (Firebase)
- [x] Expo Go / EAS Build working
- [x] Demo video (5-7 minutes)
- [x] Comprehensive README
- [x] Persona Brainlift document

**Code Quality (10 points)**
- [x] TypeScript with strict mode
- [x] Clean component architecture
- [x] Error handling and loading states
- [x] No console errors in production

**UX/UI (10 points)**
- [x] Responsive, intuitive design
- [x] Smooth animations
- [x] Loading indicators
- [x] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [x] 1h - Project setup (Expo, Firebase, dependencies)
- [x] 1h - Firebase Auth implementation (Email + Google)
- [x] 1h - User profile creation and management
- [x] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [x] 2h - Firestore message schema and security rules
- [x] 2h - One-on-one chat UI (send/receive messages)
- [x] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [x] Test on 2 real devices
- [x] Verify messages sync in real-time

**Success Criteria:**
‚úÖ User can sign up/login  
‚úÖ Send message from Device A ‚Üí appears on Device B instantly  
‚úÖ Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [x] 2h - Message persistence (Expo SQLite + offline queue)
- [x] 2h - Optimistic UI updates
- [x] 1h - Online/offline status indicators

**Afternoon (5h):**
- [x] 2h - Message timestamps and read receipts
- [x] 3h - Group chat functionality (3+ users)

**Evening:**
- [x] 1h - Push notifications (Expo Notifications + FCM)
- [x] 1h - Test all MVP requirements
- [x] 1h - Deploy to Expo Go

**Success Criteria:**
‚úÖ All 11 MVP requirements complete  
‚úÖ Tested on 2+ devices  
‚úÖ Push notifications working  
‚úÖ Group chat with 3+ users working  
‚úÖ Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [x] 2h - Firebase Cloud Functions setup
- [x] 2h - AI SDK integration (OpenAI)
- [x] 2h - AI chat interface UI

**Afternoon (4h):**
- [x] 3h - **Feature 1:** Thread Summarization
- [x] 1h - Testing and refinement

**Evening:**
- [x] 3h - **Feature 2:** Action Item Extraction
- [x] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
‚úÖ AI chat interface working  
‚úÖ Can summarize long threads  
‚úÖ Can extract action items  
‚úÖ Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [x] 2h - **Feature 4:** Priority Message Detection
- [x] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [x] 3h - Pinecone RAG pipeline for semantic search
- [x] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [x] Test all AI features end-to-end
- [x] Verify agent can execute multi-step tasks

**Success Criteria:**
‚úÖ All 5 required AI features complete  
‚úÖ Advanced agent working (can plan team events)  
‚úÖ All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [x] 2h - UX polish (animations, loading states)
- [x] 2h - Error handling across all features

**Afternoon (4h):**
- [x] 2h - Performance optimization (message pagination)
- [x] 2h - Typing indicators + message animations

**Evening (4h):**
- [x] 1h - Test offline scenarios thoroughly
- [x] 1h - Test app lifecycle (background, foreground, force-quit)
- [x] 1h - Test rapid-fire messages
- [x] 1h - Test group chat with 5+ users

**Success Criteria:**
‚úÖ All edge cases handled  
‚úÖ No console errors  
‚úÖ Smooth, polished UX  
‚úÖ All tests passing  
‚úÖ Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [x] Fix any remaining bugs
- [x] Test on multiple devices
- [x] Screenshot key features

**Afternoon (3h):**
- [x] Write Persona Brainlift document
- [x] Prepare demo script
- [x] Practice demo walkthrough

**Evening:**
- [x] Final build and deployment
- [x] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [x] 3h - Record demo video (5-7 minutes)
- [x] 1h - Edit and polish video

**Afternoon (4h):**
- [x] 2h - Write comprehensive README
- [x] 1h - Create social media post
- [x] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. ‚úÖ **Real-time sync** - Use Firebase (proven solution)
2. ‚úÖ **Offline support** - Firestore handles automatically
3. ‚úÖ **Push notifications** - Expo SDK makes this easy
4. ‚ö†Ô∏è **AI feature reliability** - Build fallbacks, handle errors
5. ‚ö†Ô∏è **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### ‚úÖ Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [x] One-on-one chat with real-time delivery
- [x] Message persistence (local + cloud)
- [x] Optimistic UI updates
- [x] Online/offline status indicators
- [x] Message timestamps
- [x] Read receipts
- [x] Group chat (3+ users)
- [x] User authentication
- [x] Push notifications

**AI Features (35 points)**
- [x] Thread summarization
- [x] Action item extraction
- [x] Smart search (semantic)
- [x] Priority message detection
- [x] Decision tracking
- [x] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [x] Deployed backend (Firebase)
- [x] Expo Go / EAS Build working
- [x] Demo video (5-7 minutes)
- [x] Comprehensive README
- [x] Persona Brainlift document

**Code Quality (10 points)**
- [x] TypeScript with strict mode
- [x] Clean component architecture
- [x] Error handling and loading states
- [x] No console errors in production

**UX/UI (10 points)**
- [x] Responsive, intuitive design
- [x] Smooth animations
- [x] Loading indicators
- [x] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [x] 1h - Project setup (Expo, Firebase, dependencies)
- [x] 1h - Firebase Auth implementation (Email + Google)
- [x] 1h - User profile creation and management
- [x] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [x] 2h - Firestore message schema and security rules
- [x] 2h - One-on-one chat UI (send/receive messages)
- [x] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [x] Test on 2 real devices
- [x] Verify messages sync in real-time

**Success Criteria:**
‚úÖ User can sign up/login  
‚úÖ Send message from Device A ‚Üí appears on Device B instantly  
‚úÖ Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [x] 2h - Message persistence (Expo SQLite + offline queue)
- [x] 2h - Optimistic UI updates
- [x] 1h - Online/offline status indicators

**Afternoon (5h):**
- [x] 2h - Message timestamps and read receipts
- [x] 3h - Group chat functionality (3+ users)

**Evening:**
- [x] 1h - Push notifications (Expo Notifications + FCM)
- [x] 1h - Test all MVP requirements
- [x] 1h - Deploy to Expo Go

**Success Criteria:**
‚úÖ All 11 MVP requirements complete  
‚úÖ Tested on 2+ devices  
‚úÖ Push notifications working  
‚úÖ Group chat with 3+ users working  
‚úÖ Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [x] 2h - Firebase Cloud Functions setup
- [x] 2h - AI SDK integration (OpenAI)
- [x] 2h - AI chat interface UI

**Afternoon (4h):**
- [x] 3h - **Feature 1:** Thread Summarization
- [x] 1h - Testing and refinement

**Evening:**
- [x] 3h - **Feature 2:** Action Item Extraction
- [x] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
‚úÖ AI chat interface working  
‚úÖ Can summarize long threads  
‚úÖ Can extract action items  
‚úÖ Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [x] 2h - **Feature 4:** Priority Message Detection
- [x] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [x] 3h - Pinecone RAG pipeline for semantic search
- [x] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [x] Test all AI features end-to-end
- [x] Verify agent can execute multi-step tasks

**Success Criteria:**
‚úÖ All 5 required AI features complete  
‚úÖ Advanced agent working (can plan team events)  
‚úÖ All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [x] 2h - UX polish (animations, loading states)
- [x] 2h - Error handling across all features

**Afternoon (4h):**
- [x] 2h - Performance optimization (message pagination)
- [x] 2h - Typing indicators + message animations

**Evening (4h):**
- [x] 1h - Test offline scenarios thoroughly
- [x] 1h - Test app lifecycle (background, foreground, force-quit)
- [x] 1h - Test rapid-fire messages
- [x] 1h - Test group chat with 5+ users

**Success Criteria:**
‚úÖ All edge cases handled  
‚úÖ No console errors  
‚úÖ Smooth, polished UX  
‚úÖ All tests passing  
‚úÖ Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [x] Fix any remaining bugs
- [x] Test on multiple devices
- [x] Screenshot key features

**Afternoon (3h):**
- [x] Write Persona Brainlift document
- [x] Prepare demo script
- [x] Practice demo walkthrough

**Evening:**
- [x] Final build and deployment
- [x] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [x] 3h - Record demo video (5-7 minutes)
- [x] 1h - Edit and polish video

**Afternoon (4h):**
- [x] 2h - Write comprehensive README
- [x] 1h - Create social media post
- [x] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### ‚úÖ Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [x] One-on-one chat with real-time delivery
- [x] Message persistence (local + cloud)
- [x] Optimistic UI updates
- [x] Online/offline status indicators
- [x] Message timestamps
- [x] Read receipts
- [x] Group chat (3+ users)
- [x] User authentication
- [x] Push notifications

**AI Features (35 points)**
- [x] Thread summarization
- [x] Action item extraction
- [x] Smart search (semantic)
- [x] Priority message detection
- [x] Decision tracking
- [x] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [x] Deployed backend (Firebase)
- [x] Expo Go / EAS Build working
- [x] Demo video (5-7 minutes)
- [x] Comprehensive README
- [x] Persona Brainlift document

**Code Quality (10 points)**
- [x] TypeScript with strict mode
- [x] Clean component architecture
- [x] Error handling and loading states
- [x] No console errors in production

**UX/UI (10 points)**
- [x] Responsive, intuitive design
- [x] Smooth animations
- [x] Loading indicators
- [x] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [x] 1h - Project setup (Expo, Firebase, dependencies)
- [x] 1h - Firebase Auth implementation (Email + Google)
- [x] 1h - User profile creation and management
- [x] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [x] 2h - Firestore message schema and security rules
- [x] 2h - One-on-one chat UI (send/receive messages)
- [x] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [x] Test on 2 real devices
- [x] Verify messages sync in real-time

**Success Criteria:**
‚úÖ User can sign up/login  
‚úÖ Send message from Device A ‚Üí appears on Device B instantly  
‚úÖ Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [x] 2h - Message persistence (Expo SQLite + offline queue)
- [x] 2h - Optimistic UI updates
- [x] 1h - Online/offline status indicators

**Afternoon (5h):**
- [x] 2h - Message timestamps and read receipts
- [x] 3h - Group chat functionality (3+ users)

**Evening:**
- [x] 1h - Push notifications (Expo Notifications + FCM)
- [x] 1h - Test all MVP requirements
- [x] 1h - Deploy to Expo Go

**Success Criteria:**
‚úÖ All 11 MVP requirements complete  
‚úÖ Tested on 2+ devices  
‚úÖ Push notifications working  
‚úÖ Group chat with 3+ users working  
‚úÖ Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [x] 2h - Firebase Cloud Functions setup
- [x] 2h - AI SDK integration (OpenAI)
- [x] 2h - AI chat interface UI

**Afternoon (4h):**
- [x] 3h - **Feature 1:** Thread Summarization
- [x] 1h - Testing and refinement

**Evening:**
- [x] 3h - **Feature 2:** Action Item Extraction
- [x] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
‚úÖ AI chat interface working  
‚úÖ Can summarize long threads  
‚úÖ Can extract action items  
‚úÖ Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [x] 2h - **Feature 4:** Priority Message Detection
- [x] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [x] 3h - Pinecone RAG pipeline for semantic search
- [x] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [x] Test all AI features end-to-end
- [x] Verify agent can execute multi-step tasks

**Success Criteria:**
‚úÖ All 5 required AI features complete  
‚úÖ Advanced agent working (can plan team events)  
‚úÖ All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [x] 2h - UX polish (animations, loading states)
- [x] 2h - Error handling across all features

**Afternoon (4h):**
- [x] 2h - Performance optimization (message pagination)
- [x] 2h - Typing indicators + message animations

**Evening (4h):**
- [x] 1h - Test offline scenarios thoroughly
- [x] 1h - Test app lifecycle (background, foreground, force-quit)
- [x] 1h - Test rapid-fire messages
- [x] 1h - Test group chat with 5+ users

**Success Criteria:**
‚úÖ All edge cases handled  
‚úÖ No console errors  
‚úÖ Smooth, polished UX  
‚úÖ All tests passing  
‚úÖ Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [x] Fix any remaining bugs
- [x] Test on multiple devices
- [x] Screenshot key features

**Afternoon (3h):**
- [x] Write Persona Brainlift document
- [x] Prepare demo script
- [x] Practice demo walkthrough

**Evening:**
- [x] Final build and deployment
- [x] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [x] 3h - Record demo video (5-7 minutes)
- [x] 1h - Edit and polish video

**Afternoon (4h):**
- [x] 2h - Write comprehensive README
- [x] 1h - Create social media post
- [x] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [x] 1h - Project setup (Expo, Firebase, dependencies)
- [x] 1h - Firebase Auth implementation (Email + Google)
- [x] 1h - User profile creation and management
- [x] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [x] 2h - Firestore message schema and security rules
- [x] 2h - One-on-one chat UI (send/receive messages)
- [x] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [x] Test on 2 real devices
- [x] Verify messages sync in real-time

**Success Criteria:**
‚úÖ User can sign up/login  
‚úÖ Send message from Device A ‚Üí appears on Device B instantly  
‚úÖ Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [x] 2h - Message persistence (Expo SQLite + offline queue)
- [x] 2h - Optimistic UI updates
- [x] 1h - Online/offline status indicators

**Afternoon (5h):**
- [x] 2h - Message timestamps and read receipts
- [x] 3h - Group chat functionality (3+ users)

**Evening:**
- [x] 1h - Push notifications (Expo Notifications + FCM)
- [x] 1h - Test all MVP requirements
- [x] 1h - Deploy to Expo Go

**Success Criteria:**
‚úÖ All 11 MVP requirements complete  
‚úÖ Tested on 2+ devices  
‚úÖ Push notifications working  
‚úÖ Group chat with 3+ users working  
‚úÖ Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [x] 2h - Firebase Cloud Functions setup
- [x] 2h - AI SDK integration (OpenAI)
- [x] 2h - AI chat interface UI

**Afternoon (4h):**
- [x] 3h - **Feature 1:** Thread Summarization
- [x] 1h - Testing and refinement

**Evening:**
- [x] 3h - **Feature 2:** Action Item Extraction
- [x] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
‚úÖ AI chat interface working  
‚úÖ Can summarize long threads  
‚úÖ Can extract action items  
‚úÖ Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [x] 2h - **Feature 4:** Priority Message Detection
- [x] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [x] 3h - Pinecone RAG pipeline for semantic search
- [x] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [x] Test all AI features end-to-end
- [x] Verify agent can execute multi-step tasks

**Success Criteria:**
‚úÖ All 5 required AI features complete  
‚úÖ Advanced agent working (can plan team events)  
‚úÖ All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [x] 2h - UX polish (animations, loading states)
- [x] 2h - Error handling across all features

**Afternoon (4h):**
- [x] 2h - Performance optimization (message pagination)
- [x] 2h - Typing indicators + message animations

**Evening (4h):**
- [x] 1h - Test offline scenarios thoroughly
- [x] 1h - Test app lifecycle (background, foreground, force-quit)
- [x] 1h - Test rapid-fire messages
- [x] 1h - Test group chat with 5+ users

**Success Criteria:**
‚úÖ All edge cases handled  
‚úÖ No console errors  
‚úÖ Smooth, polished UX  
‚úÖ All tests passing  
‚úÖ Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [x] Fix any remaining bugs
- [x] Test on multiple devices
- [x] Screenshot key features

**Afternoon (3h):**
- [x] Write Persona Brainlift document
- [x] Prepare demo script
- [x] Practice demo walkthrough

**Evening:**
- [x] Final build and deployment
- [x] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [x] 3h - Record demo video (5-7 minutes)
- [x] 1h - Edit and polish video

**Afternoon (4h):**
- [x] 2h - Write comprehensive README
- [x] 1h - Create social media post
- [x] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [x] 2h - Message persistence (Expo SQLite + offline queue)
- [x] 2h - Optimistic UI updates
- [x] 1h - Online/offline status indicators

**Afternoon (5h):**
- [x] 2h - Message timestamps and read receipts
- [x] 3h - Group chat functionality (3+ users)

**Evening:**
- [x] 1h - Push notifications (Expo Notifications + FCM)
- [x] 1h - Test all MVP requirements
- [x] 1h - Deploy to Expo Go

**Success Criteria:**
‚úÖ All 11 MVP requirements complete  
‚úÖ Tested on 2+ devices  
‚úÖ Push notifications working  
‚úÖ Group chat with 3+ users working  
‚úÖ Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [x] 2h - Firebase Cloud Functions setup
- [x] 2h - AI SDK integration (OpenAI)
- [x] 2h - AI chat interface UI

**Afternoon (4h):**
- [x] 3h - **Feature 1:** Thread Summarization
- [x] 1h - Testing and refinement

**Evening:**
- [x] 3h - **Feature 2:** Action Item Extraction
- [x] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
‚úÖ AI chat interface working  
‚úÖ Can summarize long threads  
‚úÖ Can extract action items  
‚úÖ Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [x] 2h - **Feature 4:** Priority Message Detection
- [x] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [x] 3h - Pinecone RAG pipeline for semantic search
- [x] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [x] Test all AI features end-to-end
- [x] Verify agent can execute multi-step tasks

**Success Criteria:**
‚úÖ All 5 required AI features complete  
‚úÖ Advanced agent working (can plan team events)  
‚úÖ All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [x] 2h - UX polish (animations, loading states)
- [x] 2h - Error handling across all features

**Afternoon (4h):**
- [x] 2h - Performance optimization (message pagination)
- [x] 2h - Typing indicators + message animations

**Evening (4h):**
- [x] 1h - Test offline scenarios thoroughly
- [x] 1h - Test app lifecycle (background, foreground, force-quit)
- [x] 1h - Test rapid-fire messages
- [x] 1h - Test group chat with 5+ users

**Success Criteria:**
‚úÖ All edge cases handled  
‚úÖ No console errors  
‚úÖ Smooth, polished UX  
‚úÖ All tests passing  
‚úÖ Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [x] Fix any remaining bugs
- [x] Test on multiple devices
- [x] Screenshot key features

**Afternoon (3h):**
- [x] Write Persona Brainlift document
- [x] Prepare demo script
- [x] Practice demo walkthrough

**Evening:**
- [x] Final build and deployment
- [x] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [x] 3h - Record demo video (5-7 minutes)
- [x] 1h - Edit and polish video

**Afternoon (4h):**
- [x] 2h - Write comprehensive README
- [x] 1h - Create social media post
- [x] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [x] 2h - Firebase Cloud Functions setup
- [x] 2h - AI SDK integration (OpenAI)
- [x] 2h - AI chat interface UI

**Afternoon (4h):**
- [x] 3h - **Feature 1:** Thread Summarization
- [x] 1h - Testing and refinement

**Evening:**
- [x] 3h - **Feature 2:** Action Item Extraction
- [x] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
‚úÖ AI chat interface working  
‚úÖ Can summarize long threads  
‚úÖ Can extract action items  
‚úÖ Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [x] 2h - **Feature 4:** Priority Message Detection
- [x] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [x] 3h - Pinecone RAG pipeline for semantic search
- [x] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [x] Test all AI features end-to-end
- [x] Verify agent can execute multi-step tasks

**Success Criteria:**
‚úÖ All 5 required AI features complete  
‚úÖ Advanced agent working (can plan team events)  
‚úÖ All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [x] 2h - UX polish (animations, loading states)
- [x] 2h - Error handling across all features

**Afternoon (4h):**
- [x] 2h - Performance optimization (message pagination)
- [x] 2h - Typing indicators + message animations

**Evening (4h):**
- [x] 1h - Test offline scenarios thoroughly
- [x] 1h - Test app lifecycle (background, foreground, force-quit)
- [x] 1h - Test rapid-fire messages
- [x] 1h - Test group chat with 5+ users

**Success Criteria:**
‚úÖ All edge cases handled  
‚úÖ No console errors  
‚úÖ Smooth, polished UX  
‚úÖ All tests passing  
‚úÖ Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [x] Fix any remaining bugs
- [x] Test on multiple devices
- [x] Screenshot key features

**Afternoon (3h):**
- [x] Write Persona Brainlift document
- [x] Prepare demo script
- [x] Practice demo walkthrough

**Evening:**
- [x] Final build and deployment
- [x] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [x] 3h - Record demo video (5-7 minutes)
- [x] 1h - Edit and polish video

**Afternoon (4h):**
- [x] 2h - Write comprehensive README
- [x] 1h - Create social media post
- [x] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [x] 2h - **Feature 4:** Priority Message Detection
- [x] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [x] 3h - Pinecone RAG pipeline for semantic search
- [x] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [x] Test all AI features end-to-end
- [x] Verify agent can execute multi-step tasks

**Success Criteria:**
‚úÖ All 5 required AI features complete  
‚úÖ Advanced agent working (can plan team events)  
‚úÖ All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [x] 2h - UX polish (animations, loading states)
- [x] 2h - Error handling across all features

**Afternoon (4h):**
- [x] 2h - Performance optimization (message pagination)
- [x] 2h - Typing indicators + message animations

**Evening (4h):**
- [x] 1h - Test offline scenarios thoroughly
- [x] 1h - Test app lifecycle (background, foreground, force-quit)
- [x] 1h - Test rapid-fire messages
- [x] 1h - Test group chat with 5+ users

**Success Criteria:**
‚úÖ All edge cases handled  
‚úÖ No console errors  
‚úÖ Smooth, polished UX  
‚úÖ All tests passing  
‚úÖ Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [x] Fix any remaining bugs
- [x] Test on multiple devices
- [x] Screenshot key features

**Afternoon (3h):**
- [x] Write Persona Brainlift document
- [x] Prepare demo script
- [x] Practice demo walkthrough

**Evening:**
- [x] Final build and deployment
- [x] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [x] 3h - Record demo video (5-7 minutes)
- [x] 1h - Edit and polish video

**Afternoon (4h):**
- [x] 2h - Write comprehensive README
- [x] 1h - Create social media post
- [x] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [x] 2h - UX polish (animations, loading states)
- [x] 2h - Error handling across all features

**Afternoon (4h):**
- [x] 2h - Performance optimization (message pagination)
- [x] 2h - Typing indicators + message animations

**Evening (4h):**
- [x] 1h - Test offline scenarios thoroughly
- [x] 1h - Test app lifecycle (background, foreground, force-quit)
- [x] 1h - Test rapid-fire messages
- [x] 1h - Test group chat with 5+ users

**Success Criteria:**
‚úÖ All edge cases handled  
‚úÖ No console errors  
‚úÖ Smooth, polished UX  
‚úÖ All tests passing  
‚úÖ Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [x] Fix any remaining bugs
- [x] Test on multiple devices
- [x] Screenshot key features

**Afternoon (3h):**
- [x] Write Persona Brainlift document
- [x] Prepare demo script
- [x] Practice demo walkthrough

**Evening:**
- [x] Final build and deployment
- [x] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [x] 3h - Record demo video (5-7 minutes)
- [x] 1h - Edit and polish video

**Afternoon (4h):**
- [x] 2h - Write comprehensive README
- [x] 1h - Create social media post
- [x] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [x] Fix any remaining bugs
- [x] Test on multiple devices
- [x] Screenshot key features

**Afternoon (3h):**
- [x] Write Persona Brainlift document
- [x] Prepare demo script
- [x] Practice demo walkthrough

**Evening:**
- [x] Final build and deployment
- [x] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [x] 3h - Record demo video (5-7 minutes)
- [x] 1h - Edit and polish video

**Afternoon (4h):**
- [x] 2h - Write comprehensive README
- [x] 1h - Create social media post
- [x] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [x] 3h - Record demo video (5-7 minutes)
- [x] 1h - Edit and polish video

**Afternoon (4h):**
- [x] 2h - Write comprehensive README
- [x] 1h - Create social media post
- [x] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- ‚úÖ Messages appear instantly
- ‚úÖ No dropped messages
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- ‚úÖ Messages queue on server
- ‚úÖ Messages deliver when B comes online
- ‚úÖ Correct message order maintained
- ‚úÖ Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- ‚úÖ Push notification appears
- ‚úÖ Notification has correct message preview
- ‚úÖ Tapping notification opens conversation
- ‚úÖ Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- ‚úÖ All messages persisted
- ‚úÖ Conversation list shows correct state
- ‚úÖ No data loss
- ‚úÖ Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- ‚úÖ Messages show "sending" state
- ‚úÖ Messages eventually send
- ‚úÖ Retry on failure
- ‚úÖ Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- ‚úÖ All messages delivered
- ‚úÖ Correct order maintained
- ‚úÖ No duplicates
- ‚úÖ No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- ‚úÖ All messages visible to all participants
- ‚úÖ Correct sender attribution
- ‚úÖ Read receipts show who read what
- ‚úÖ Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP (24 Hours - Due: Oct 21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

Perfect! I've removed all checkmarks and completion indicators from the PRD. Here's what was changed:

## Changes Made:

1. **Success Metrics** - Removed all ‚úÖ marks
2. **Stack Justification** - Removed all ‚úÖ marks from React Native, Firebase, and AI SDK sections
3. **MVP Success Criteria** - Removed all ‚úÖ marks
4. **Risk Mitigation Strategy** - Removed ‚úÖ and ‚ö†Ô∏è markers
5. **Strategic Feature Separation** - Changed all `[x]` to `[ ]` for:
   - Messaging Core (40 points)
   - AI Features (35 points)
   - Deployment & Documentation (10 points)
   - Code Quality (10 points)
   - UX/UI (10 points)
6. **Daily Breakdown** (Days 1-7) - Changed all `[x]` to `[ ]` and removed all ‚úÖ marks
7. **Testing Scenarios** - Removed all ‚úÖ marks from Success Criteria sections (7 scenarios total)

The PRD is now in a fresh, clean state ready for you to start the project from scratch! All tasks and checkboxes are unchecked, and all completion indicators have been removed. üöÄ

---

**User**

Okay, MVP is absolutely due when it's due. It cannot be extended into multiple days. So let's make all of the MVP exist within Phase I rather than being split into two.

---

**Cursor**

I'll consolidate the MVP timeline to make it crystal clear that ALL MVP work happens in Phase 1 (Days 1-2) with a hard deadline of Oct 21, 11:59 PM.

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria:**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

---

### Phase 2: AI Foundation (Days 2-3 - Oct 21-22)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 4 - Oct 23)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 5 - Oct 24)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 5)

---

### Phase 5: Demo & Submission (Days 6-7 - Oct 25-26)

**Saturday Oct 25: Final Polish**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document

**Sunday Oct 26: Submission**
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
|| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
|| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Saturday Oct 26: Final Polish & Submission**
```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + Advanced Agent
Day 5 (Fri):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION
Day 6 (Sat):  Final Polish, Bug Fixes, Prep Demo
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM**

---

#### **Day 3: Wednesday, Oct 22** (AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (AI Features 4-5 + Advanced - 10 hours)
**Goal:** Complete all 5 AI features + advanced agent

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 3h - Pinecone RAG pipeline for semantic search
- [ ] 3h - **Advanced Feature:** Multi-Step Agent (planning assistant)

**Evening:**
- [ ] Test all AI features end-to-end
- [ ] Verify agent can execute multi-step tasks

**Success Criteria:**
- All 5 required AI features complete  
- Advanced agent working (can plan team events)  
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states)
- [ ] 2h - Error handling across all features

**Afternoon (4h):**
- [ ] 2h - Performance optimization (message pagination)
- [ ] 2h - Typing indicators + message animations

**Evening (4h):**
- [ ] 1h - Test offline scenarios thoroughly
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages
- [ ] 1h - Test group chat with 5+ users

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy  
**Phase:** Phase 3 - Advanced AI Capability

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case

---

#### **Day 6: Saturday, Oct 25** (Final Polish - 6 hours)
**Goal:** Fix bugs, prepare demo

**Morning (3h):**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Screenshot key features

**Afternoon (3h):**
- [ ] Write Persona Brainlift document
- [ ] Prepare demo script
- [ ] Practice demo walkthrough

**Evening:**
- [ ] Final build and deployment
- [ ] Verify everything works on fresh install

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy  
**Phase:** Phase 3 - Advanced AI Capability

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case

---

#### **Day 6: Saturday, Oct 25** ‚≠ê (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM

**Morning (4h):**
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (4h):**
- [ ] 2h - Write comprehensive README
- [ ] 1h - Create social media post
- [ ] 1h - Final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases ‚≠ê TARGET COMPLETION

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy  
**Phase:** Phase 3 - Advanced AI Capability

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case

---

#### **Day 6: Saturday, Oct 25** ‚≠ê (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

Perfect! I've restructured the PRD so that the entire MVP is clearly contained within **Phase 1** with a non-negotiable deadline. Here's what changed:

## üìã Updated Timeline Structure

### **PHASE 1: MVP FOUNDATION (Days 1-2: Oct 20-21, 11:59 PM)** üî¥
- **Duration:** 48 hours (2 full days)
- **Hard Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**
- **Day 1:** Authentication & Basic Chat
- **Day 2:** Group Chat, Notifications, Push - **HARD GATE**

### **PHASE 2: AI FOUNDATION (Days 3-4: Oct 22-23)**
- **Day 3:** AI Features 1-3 (Summarize, Actions, Search)
- **Day 4:** AI Features 4-5 + RAG Pipeline

### **PHASE 3: ADVANCED AI (Day 5: Oct 24)**
- **Day 5:** Multi-Step Agent Implementation

### **PHASE 4: POLISH & OPTIMIZATION (Day 6: Oct 25)** ‚≠ê
- **Day 6:** Production-ready quality - **TARGET COMPLETION**

### **PHASE 5: DEMO & SUBMISSION (Day 7: Oct 26)** üî¥
- **Day 7:** Demo Video, Documentation, Submission - **FINAL DEADLINE**

## üîë Key Changes:
1. ‚úÖ **Phase 1 explicitly covers Days 1-2** with the entire MVP
2. ‚úÖ **Hard deadline warning** added: "NO AI WORK BEGINS UNTIL THIS GATE PASSES"
3. ‚úÖ **Timeline overview** now shows clear phase boundaries
4. ‚úÖ **Each daily breakdown** labeled with its phase
5. ‚úÖ **Advanced AI agent** moved to its own dedicated day (Day 5)
6. ‚úÖ **Polish phase** expanded to Day 6 with full testing suite

The PRD now makes it absolutely clear: **ALL MVP features must be complete by Tuesday, Oct 21, 11:59 PM** before any AI work begins! üöÄ

---

**User**

I would like to make Phase 3 the target completion rather than Phase 4.

---

**Cursor**

I'll move the target completion date to Phase 3 (Day 5), making that the goal for having all features complete, with Days 6-7 as buffer for polish and submission.

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy  
**Phase:** Phase 3 - Advanced AI Capability

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case

---

#### **Day 6: Saturday, Oct 25** ‚≠ê (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case

---

#### **Day 6: Saturday, Oct 25** ‚≠ê (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - TARGET COMPLETION DATE  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case
- **ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features: Day 4 (Oct 23)
- Production-ready: Day 5 (Oct 24)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features before advanced feature (80 points secured)
- Polish and demo video last (95+ points secured)

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case
- **ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features (5 required): Day 4 (Oct 23)
- All features complete (incl. advanced agent): Day 5 (Oct 24) ‚≠ê TARGET
- Production-ready: Day 6 (Oct 25)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**‚ö†Ô∏è CRITICAL:** ALL MVP features in this phase MUST be complete and working by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first by Day 2 (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features by Day 4 (80 points secured)
- Complete advanced agent by Day 5 ‚≠ê TARGET (95+ points secured)
- Use Days 6-7 for polish, testing, and demo video

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case
- **ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features (5 required): Day 4 (Oct 23)
- All features complete (incl. advanced agent): Day 5 (Oct 24) ‚≠ê TARGET
- Production-ready: Day 6 (Oct 25)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

Perfect! I've updated the PRD to make **Phase 3 (Day 5)** the target completion date. Here's what changed:

## üìã Updated Timeline Structure

### **Week Overview:**
```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

## üéØ Key Changes:

1. **Day 5 (Phase 3)** is now marked as **‚≠ê TARGET COMPLETION**
2. Added explicit note: "**All features complete by end of day - Days 6-7 are buffer for polish/submission**"
3. Day 5 Success Criteria now includes: "**ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured"
4. **Day 6** is now positioned as a buffer day for polish and edge cases
5. **Development Velocity** updated to show:
   - MVP complete: Day 2 (Oct 21)
   - All AI features (5 required): Day 4 (Oct 23)
   - All features complete (incl. advanced agent): Day 5 (Oct 24) ‚≠ê **TARGET**
   - Production-ready: Day 6 (Oct 25)
6. **Point Protection Plan** updated to reflect Day 5 target with Days 6-7 as buffer

This gives you a **2-day buffer** (Saturday-Sunday) for polish, testing, demo video, and documentation after all features are complete! üöÄ

```plaintext
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

---

**User**

Add to the end of Phase I that we have to create the demo video for the minimum viable product, which is due October 21st, 11:59 PM as a hard deadline.Also add to the end of Phase 3 that we have to create the demo video for the early submission.

---

**Cursor**

I'll add the MVP demo video requirement to Phase 1 (due Oct 21, 11:59 PM) and the early submission demo video to Phase 3 (Day 5).

```markdown
|| **Deployment** |
|| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
|| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |
|| **Demo Video** |
|| MVP demo video (3-5 minutes) | P0 | 2h | Required | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)
```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**MVP Demo Video Requirement:**
- **3-5 minute demo video** showcasing all MVP features
- Must demonstrate real-time messaging between 2 devices
- Must show offline/online scenarios
- Must show group chat functionality
- **Due: Tuesday, Oct 21, 11:59 PM** (same deadline as MVP)

**‚ö†Ô∏è CRITICAL:** ALL MVP features AND demo video MUST be complete by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first by Day 2 (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features by Day 4 (80 points secured)
- Complete advanced agent by Day 5 ‚≠ê TARGET (95+ points secured)
- Use Days 6-7 for polish, testing, and demo video

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements
- [ ] 1h - Deploy to Expo Go

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully

**üî¥ CHECKPOINT: MVP must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case
- **ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features (5 required): Day 4 (Oct 23)
- All features complete (incl. advanced agent): Day 5 (Oct 24) ‚≠ê TARGET
- Production-ready: Day 6 (Oct 25)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**MVP Demo Video Requirement:**
- **3-5 minute demo video** showcasing all MVP features
- Must demonstrate real-time messaging between 2 devices
- Must show offline/online scenarios
- Must show group chat functionality
- **Due: Tuesday, Oct 21, 11:59 PM** (same deadline as MVP)

**‚ö†Ô∏è CRITICAL:** ALL MVP features AND demo video MUST be complete by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first by Day 2 (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features by Day 4 (80 points secured)
- Complete advanced agent by Day 5 ‚≠ê TARGET (95+ points secured)
- Use Days 6-7 for polish, testing, and demo video

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements on 2+ devices
- [ ] 1h - Deploy to Expo Go

**Late Evening (MUST COMPLETE BY 11:59 PM):**
- [ ] 2h - Record MVP demo video (3-5 minutes)
  - [ ] Show real-time messaging between 2 devices
  - [ ] Demonstrate offline/online scenarios
  - [ ] Show group chat with 3+ users
  - [ ] Show push notifications working
- [ ] 30m - Quick edit and upload demo video

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully
- **MVP demo video recorded and submitted**

**üî¥ CHECKPOINT: MVP features AND demo video must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case
- **ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features (5 required): Day 4 (Oct 23)
- All features complete (incl. advanced agent): Day 5 (Oct 24) ‚≠ê TARGET
- Production-ready: Day 6 (Oct 25)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**MVP Demo Video Requirement:**
- **3-5 minute demo video** showcasing all MVP features
- Must demonstrate real-time messaging between 2 devices
- Must show offline/online scenarios
- Must show group chat functionality
- **Due: Tuesday, Oct 21, 11:59 PM** (same deadline as MVP)

**‚ö†Ô∏è CRITICAL:** ALL MVP features AND demo video MUST be complete by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

**Early Submission Demo Video (End of Phase 3):**
- **5-7 minute comprehensive demo video** for early submission consideration
- Must showcase all MVP features + all 5 AI features + advanced agent
- Demonstrates complete working application
- **Target: End of Day 5 (Friday, Oct 24)**
- This video can be refined for final submission if needed

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first by Day 2 (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features by Day 4 (80 points secured)
- Complete advanced agent by Day 5 ‚≠ê TARGET (95+ points secured)
- Use Days 6-7 for polish, testing, and demo video

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements on 2+ devices
- [ ] 1h - Deploy to Expo Go

**Late Evening (MUST COMPLETE BY 11:59 PM):**
- [ ] 2h - Record MVP demo video (3-5 minutes)
  - [ ] Show real-time messaging between 2 devices
  - [ ] Demonstrate offline/online scenarios
  - [ ] Show group chat with 3+ users
  - [ ] Show push notifications working
- [ ] 30m - Quick edit and upload demo video

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully
- **MVP demo video recorded and submitted**

**üî¥ CHECKPOINT: MVP features AND demo video must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case
- **ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features (5 required): Day 4 (Oct 23)
- All features complete (incl. advanced agent): Day 5 (Oct 24) ‚≠ê TARGET
- Production-ready: Day 6 (Oct 25)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**MVP Demo Video Requirement:**
- **3-5 minute demo video** showcasing all MVP features
- Must demonstrate real-time messaging between 2 devices
- Must show offline/online scenarios
- Must show group chat functionality
- **Due: Tuesday, Oct 21, 11:59 PM** (same deadline as MVP)

**‚ö†Ô∏è CRITICAL:** ALL MVP features AND demo video MUST be complete by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

**Early Submission Demo Video (End of Phase 3):**
- **5-7 minute comprehensive demo video** for early submission consideration
- Must showcase all MVP features + all 5 AI features + advanced agent
- Demonstrates complete working application
- **Target: End of Day 5 (Friday, Oct 24)**
- This video can be refined for final submission if needed

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first by Day 2 (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features by Day 4 (80 points secured)
- Complete advanced agent by Day 5 ‚≠ê TARGET (95+ points secured)
- Use Days 6-7 for polish, testing, and demo video

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements on 2+ devices
- [ ] 1h - Deploy to Expo Go

**Late Evening (MUST COMPLETE BY 11:59 PM):**
- [ ] 2h - Record MVP demo video (3-5 minutes)
  - [ ] Show real-time messaging between 2 devices
  - [ ] Demonstrate offline/online scenarios
  - [ ] Show group chat with 3+ users
  - [ ] Show push notifications working
- [ ] 30m - Quick edit and upload demo video

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully
- **MVP demo video recorded and submitted**

**üî¥ CHECKPOINT: MVP features AND demo video must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Late Evening (Early Submission Prep - 3h):**
- [ ] 30m - Final end-to-end testing of all features
- [ ] 2h - Record early submission demo video (5-7 minutes)
  - [ ] Demonstrate all MVP features (messaging, groups, notifications)
  - [ ] Show all 5 AI features (summarize, actions, search, priority, decisions)
  - [ ] Showcase advanced agent (multi-step planning)
  - [ ] Explain persona and how features solve user problems
- [ ] 30m - Quick edit and upload for early submission consideration

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case
- **ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured
- **Early submission demo video recorded** (can be refined later if needed)

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Record demo video (5-7 minutes)
- [ ] 1h - Edit and polish video

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features (5 required): Day 4 (Oct 23)
- All features complete (incl. advanced agent): Day 5 (Oct 24) ‚≠ê TARGET
- Production-ready: Day 6 (Oct 25)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**MVP Demo Video Requirement:**
- **3-5 minute demo video** showcasing all MVP features
- Must demonstrate real-time messaging between 2 devices
- Must show offline/online scenarios
- Must show group chat functionality
- **Due: Tuesday, Oct 21, 11:59 PM** (same deadline as MVP)

**‚ö†Ô∏è CRITICAL:** ALL MVP features AND demo video MUST be complete by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

**Early Submission Demo Video (End of Phase 3):**
- **5-7 minute comprehensive demo video** for early submission consideration
- Must showcase all MVP features + all 5 AI features + advanced agent
- Demonstrates complete working application
- **Target: End of Day 5 (Friday, Oct 24)**
- This video can be refined for final submission if needed

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first by Day 2 (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features by Day 4 (80 points secured)
- Complete advanced agent by Day 5 ‚≠ê TARGET (95+ points secured)
- Use Days 6-7 for polish, testing, and demo video

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements on 2+ devices
- [ ] 1h - Deploy to Expo Go

**Late Evening (MUST COMPLETE BY 11:59 PM):**
- [ ] 2h - Record MVP demo video (3-5 minutes)
  - [ ] Show real-time messaging between 2 devices
  - [ ] Demonstrate offline/online scenarios
  - [ ] Show group chat with 3+ users
  - [ ] Show push notifications working
- [ ] 30m - Quick edit and upload demo video

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully
- **MVP demo video recorded and submitted**

**üî¥ CHECKPOINT: MVP features AND demo video must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Late Evening (Early Submission Prep - 3h):**
- [ ] 30m - Final end-to-end testing of all features
- [ ] 2h - Record early submission demo video (5-7 minutes)
  - [ ] Demonstrate all MVP features (messaging, groups, notifications)
  - [ ] Show all 5 AI features (summarize, actions, search, priority, decisions)
  - [ ] Showcase advanced agent (multi-step planning)
  - [ ] Explain persona and how features solve user problems
- [ ] 30m - Quick edit and upload for early submission consideration

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case
- **ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured
- **Early submission demo video recorded** (can be refined later if needed)

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Refine/re-record final demo video (5-7 minutes)
  - [ ] Can improve early submission video from Day 5
  - [ ] Or record fresh video with polished features
- [ ] 1h - Edit and polish video for final submission

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features (5 required): Day 4 (Oct 23)
- All features complete (incl. advanced agent): Day 5 (Oct 24) ‚≠ê TARGET
- Production-ready: Day 6 (Oct 25)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**MVP Demo Video Requirement:**
- **3-5 minute demo video** showcasing all MVP features
- Must demonstrate real-time messaging between 2 devices
- Must show offline/online scenarios
- Must show group chat functionality
- **Due: Tuesday, Oct 21, 11:59 PM** (same deadline as MVP)

**‚ö†Ô∏è CRITICAL:** ALL MVP features AND demo video MUST be complete by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

**Early Submission Demo Video (End of Phase 3):**
- **5-7 minute comprehensive demo video** for early submission consideration
- Must showcase all MVP features + all 5 AI features + advanced agent
- Demonstrates complete working application
- **Target: End of Day 5 (Friday, Oct 24)**
- This video can be refined for final submission if needed

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first by Day 2 (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features by Day 4 (80 points secured)
- Complete advanced agent by Day 5 ‚≠ê TARGET (95+ points secured)
- Use Days 6-7 for polish, testing, and demo video

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE
              + MVP Demo Video (3-5 min) - DUE 11:59 PM

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION
              + Early Submission Demo Video (5-7 min)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Final Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements on 2+ devices
- [ ] 1h - Deploy to Expo Go

**Late Evening (MUST COMPLETE BY 11:59 PM):**
- [ ] 2h - Record MVP demo video (3-5 minutes)
  - [ ] Show real-time messaging between 2 devices
  - [ ] Demonstrate offline/online scenarios
  - [ ] Show group chat with 3+ users
  - [ ] Show push notifications working
- [ ] 30m - Quick edit and upload demo video

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully
- **MVP demo video recorded and submitted**

**üî¥ CHECKPOINT: MVP features AND demo video must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Late Evening (Early Submission Prep - 3h):**
- [ ] 30m - Final end-to-end testing of all features
- [ ] 2h - Record early submission demo video (5-7 minutes)
  - [ ] Demonstrate all MVP features (messaging, groups, notifications)
  - [ ] Show all 5 AI features (summarize, actions, search, priority, decisions)
  - [ ] Showcase advanced agent (multi-step planning)
  - [ ] Explain persona and how features solve user problems
- [ ] 30m - Quick edit and upload for early submission consideration

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case
- **ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured
- **Early submission demo video recorded** (can be refined later if needed)

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Refine/re-record final demo video (5-7 minutes)
  - [ ] Can improve early submission video from Day 5
  - [ ] Or record fresh video with polished features
- [ ] 1h - Edit and polish video for final submission

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features (5 required): Day 4 (Oct 23)
- All features complete (incl. advanced agent): Day 5 (Oct 24) ‚≠ê TARGET
- Production-ready: Day 6 (Oct 25)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**MVP Demo Video Requirement:**
- **3-5 minute demo video** showcasing all MVP features
- Must demonstrate real-time messaging between 2 devices
- Must show offline/online scenarios
- Must show group chat functionality
- **Due: Tuesday, Oct 21, 11:59 PM** (same deadline as MVP)

**‚ö†Ô∏è CRITICAL:** ALL MVP features AND demo video MUST be complete by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

**Early Submission Demo Video (End of Phase 3):**
- **5-7 minute comprehensive demo video** for early submission consideration
- Must showcase all MVP features + all 5 AI features + advanced agent
- Demonstrates complete working application
- **Target: End of Day 5 (Friday, Oct 24)**
- This video can be refined for final submission if needed

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first by Day 2 (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features by Day 4 (80 points secured)
- Complete advanced agent by Day 5 ‚≠ê TARGET (95+ points secured)
- Use Days 6-7 for polish, testing, and demo video

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE
              + MVP Demo Video (3-5 min) - DUE 11:59 PM

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION
              + Early Submission Demo Video (5-7 min)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Final Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements on 2+ devices
- [ ] 1h - Deploy to Expo Go

**Late Evening (MUST COMPLETE BY 11:59 PM):**
- [ ] 2h - Record MVP demo video (3-5 minutes)
  - [ ] Show real-time messaging between 2 devices
  - [ ] Demonstrate offline/online scenarios
  - [ ] Show group chat with 3+ users
  - [ ] Show push notifications working
- [ ] 30m - Quick edit and upload demo video

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully
- **MVP demo video recorded and submitted**

**üî¥ CHECKPOINT: MVP features AND demo video must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Late Evening (Early Submission Prep - 3h):**
- [ ] 30m - Final end-to-end testing of all features
- [ ] 2h - Record early submission demo video (5-7 minutes)
  - [ ] Demonstrate all MVP features (messaging, groups, notifications)
  - [ ] Show all 5 AI features (summarize, actions, search, priority, decisions)
  - [ ] Showcase advanced agent (multi-step planning)
  - [ ] Explain persona and how features solve user problems
- [ ] 30m - Quick edit and upload for early submission consideration

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case
- **ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured
- **Early submission demo video recorded** (can be refined later if needed)

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Refine/re-record final demo video (5-7 minutes)
  - [ ] Can improve early submission video from Day 5
  - [ ] Or record fresh video with polished features
- [ ] 1h - Edit and polish video for final submission

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features (5 required): Day 4 (Oct 23)
- All features complete (incl. advanced agent): Day 5 (Oct 24) ‚≠ê TARGET
- Production-ready: Day 6 (Oct 25)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### MVP Demo Video (3-5 minutes) - DUE Oct 21, 11:59 PM üî¥
- [ ] Real-time messaging demonstration (2 devices)
- [ ] Show one-on-one chat working
- [ ] Show group chat with 3+ users
- [ ] Demonstrate offline/online scenarios
- [ ] Show push notifications working
- [ ] Show read receipts and timestamps
- [ ] Brief explanation of tech stack
- [ ] **Must submit by Tuesday, Oct 21, 11:59 PM**

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Demo Video (5-7 minutes)
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

```markdown
# Product Requirements Document: MessageAI

**Version:** 1.0  
**Date:** October 20, 2025  
**Project Duration:** 7 Days (Oct 20-26, 2025)  
**Target Platform:** React Native + Expo (Primary) | Kotlin Android (Backup)  
**Target Score:** 95+/105 points

---

## Executive Summary

MessageAI is a production-quality mobile messaging application that combines WhatsApp-level reliability with intelligent AI features. Built for a one-week sprint, the application delivers real-time messaging infrastructure with AI capabilities tailored to a specific user persona. This PRD outlines our strategy to achieve a 95+/105 score while maintaining technical excellence and user-centric design.

---

## Product Vision

### Mission Statement
Build a messaging platform that doesn't just connect people‚Äîit makes conversations more productive, accessible, and intelligent through contextual AI assistance.

### Market Positioning
- **Reliability:** WhatsApp-level message delivery and sync
- **Intelligence:** AI features that genuinely solve user problems
- **Accessibility:** Cross-platform support with offline-first architecture
- **Privacy:** Secure authentication with user data protection

### Success Metrics
- 100% message delivery rate in online scenarios
- <500ms message send latency (optimistic UI)
- Offline message queue with automatic retry
- AI feature accuracy >85% for intended use cases
- Zero data loss during app lifecycle transitions

---

## Target User Persona

### Primary Persona: **Remote Team Professional**

**Profile:**
- Software engineers, designers, product managers
- Works in distributed teams across time zones
- Age: 25-45
- Tech-savvy, values efficiency and clarity
- Manages 10-20 active conversations daily
- Participates in 5-8 group chats simultaneously

**Core Pain Points:**
1. **Information Overload:** Drowning in message threads, missing critical updates
2. **Context Switching:** Constant interruptions destroy deep work
3. **Time Zone Chaos:** Coordinating across 3+ time zones
4. **Decision Tracking:** Losing track of what was decided and why
5. **Action Items:** Tasks buried in conversation threads

**Jobs to Be Done:**
- "Help me quickly understand what happened in a thread while I was away"
- "Show me which messages need my immediate attention"
- "Extract action items so nothing falls through the cracks"
- "Help me find that decision we made last week"
- "Make it easy to search across all my conversations"

**Why This Persona:**
- Clear, measurable pain points
- AI features directly map to specific problems
- Technical audience appreciates good UX
- Realistic to test and validate in one week

---

## Technology Stack

### Primary Stack: React Native + Expo + Firebase

#### Frontend (Mobile)
```
Platform:         React Native 0.74+
Framework:        Expo SDK 51+
Language:         TypeScript 5.0+
UI Components:    React Native Paper (Material Design)
Navigation:       Expo Router (file-based routing)
State Management: Zustand + React Query
Local Storage:    Expo SQLite
Push Notifications: Expo Notifications
```

#### Backend
```
Database:         Firebase Firestore
Authentication:   Firebase Auth (Email/Password + Google)
Functions:        Firebase Cloud Functions (Node.js 20)
Storage:          Firebase Storage (for media)
Push:             Firebase Cloud Messaging (FCM)
```

#### AI Integration
```
LLM Provider:     OpenAI GPT-4-Turbo
Agent Framework:  AI SDK by Vercel (@ai-sdk/openai)
Vector Store:     Pinecone (for conversation RAG)
Embeddings:       OpenAI text-embedding-3-small
```

#### Development Tools
```
Package Manager:  npm/pnpm
Testing:          Jest + React Native Testing Library
Linting:          ESLint + Prettier
Version Control:  Git + GitHub
CI/CD:            GitHub Actions (optional)
Deployment:       Expo EAS Build + Expo Go
```

### Backup Stack: Kotlin + Jetpack Compose + Firebase

#### Frontend (Android)
```
Platform:         Android SDK 28+ (Pie+)
Language:         Kotlin 1.9+
UI Framework:     Jetpack Compose
Architecture:     MVVM with Clean Architecture
Local Storage:    Room Database
DI:               Hilt
Networking:       Retrofit + OkHttp
```

#### Backend (Same as Primary)
```
Firebase Firestore, Auth, Functions, Storage, FCM
```

### Stack Justification

**Why React Native + Expo:**
1. **Leverage Existing Skills:** TypeScript, React patterns
2. **Rapid Development:** Expo managed workflow = faster iteration
3. **Cross-Platform:** iOS + Android from single codebase (bonus points)
4. **Hot Reload:** Instant feedback during development
5. **Expo Go:** Easy testing on real devices without builds
6. **Rich Ecosystem:** Expo SDK handles notifications, storage, etc.

**Why Firebase:**
1. **Real-Time Sync:** Built-in WebSocket connections
2. **Offline Support:** Client-side caching out of the box
3. **Secure AI Calls:** Cloud Functions hide API keys
4. **Scalability:** Proven for billions of users
5. **Free Tier:** Sufficient for development and demo

**Why AI SDK by Vercel:**
1. **Simplicity:** Clean API for tool calling
2. **TypeScript Native:** Type-safe agent development
3. **Streaming:** Real-time AI responses
4. **Multi-Provider:** Easy to switch LLMs if needed

---

## Core Requirements Matrix

### Phase 1: MVP Foundation (Days 1-2: Oct 20-21, 11:59 PM)

**Status:** üî¥ **HARD GATE** - Must pass to continue  
**Duration:** 48 hours (2 full days)  
**Deadline:** Tuesday, Oct 21, 11:59 PM - **NON-NEGOTIABLE**

| Feature | Priority | Effort | Rubric Points | Status |
|---------|----------|--------|---------------|--------|
| **Messaging Core** |
| One-on-one chat | P0 | 4h | 15 | ‚è≥ |
| Real-time delivery (2+ users) | P0 | 3h | 15 | ‚è≥ |
| Message persistence | P0 | 3h | 10 | ‚è≥ |
| Optimistic UI updates | P0 | 2h | 10 | ‚è≥ |
| **User Management** |
| Firebase Auth (Email + Google) | P0 | 2h | 5 | ‚è≥ |
| User profiles (display name, avatar) | P0 | 2h | 5 | ‚è≥ |
| Online/offline status | P0 | 2h | 5 | ‚è≥ |
| **Advanced Messaging** |
| Group chat (3+ users) | P0 | 4h | 10 | ‚è≥ |
| Message timestamps | P0 | 1h | 5 | ‚è≥ |
| Read receipts | P0 | 3h | 10 | ‚è≥ |
| Push notifications (foreground) | P0 | 2h | 5 | ‚è≥ |
| **Deployment** |
| Firebase backend deployed | P0 | 1h | 5 | ‚è≥ |
| Expo Go / EAS Build working | P0 | 2h | 5 | ‚è≥ |

**Total MVP Points:** ~95/105 (passing threshold)

**MVP Success Criteria (Must Demo by Oct 21, 11:59 PM):**
- Send message from Device A ‚Üí appears on Device B instantly
- Close app, reopen ‚Üí messages still there
- Go offline ‚Üí messages queue and send on reconnect
- Group chat with 3 people ‚Üí everyone sees messages
- Read receipts work both ways
- Push notification appears when message received

**MVP Demo Video Requirement:**
- **3-5 minute demo video** showcasing all MVP features
- Must demonstrate real-time messaging between 2 devices
- Must show offline/online scenarios
- Must show group chat functionality
- **Due: Tuesday, Oct 21, 11:59 PM** (same deadline as MVP)

**‚ö†Ô∏è CRITICAL:** ALL MVP features AND demo video MUST be complete by **Tuesday, Oct 21, 11:59 PM**. This is a hard gate - no AI work begins until MVP passes.

---

### Phase 2: AI Foundation (Days 3-4 - Oct 22-23)

**Focus:** Implement 5 required AI features for Remote Team Professional persona

| Feature | Description | Effort | Rubric Points | Status |
|---------|-------------|--------|---------------|--------|
| **1. Thread Summarization** | Summarize long conversations (50+ messages) into bullet points | 4h | 5 | ‚è≥ |
| **2. Action Item Extraction** | Automatically detect and extract tasks/TODOs from messages | 4h | 5 | ‚è≥ |
| **3. Smart Search** | Semantic search across conversations using RAG | 5h | 5 | ‚è≥ |
| **4. Priority Message Detection** | Flag urgent messages requiring immediate attention | 3h | 5 | ‚è≥ |
| **5. Decision Tracking** | Extract and catalog key decisions made in conversations | 4h | 5 | ‚è≥ |
| **AI Infrastructure** |
| Firebase Cloud Functions (AI endpoints) | 3h | - | ‚è≥ |
| RAG pipeline (Pinecone + embeddings) | 4h | - | ‚è≥ |
| AI chat interface | 3h | - | ‚è≥ |
| Conversation history retrieval | 2h | - | ‚è≥ |

**Total Phase 2 Points:** +25 points (Cumulative: 120+/105)

---

### Phase 3: Advanced AI Capability (Day 5 - Oct 24)

**Choose ONE advanced feature:**

#### Option A: Multi-Step Agent (Recommended) 
**Use Case:** "Plan a team offsite"

**Agent Capabilities:**
- Check team availability across time zones
- Suggest venues based on team location
- Create poll for date selection
- Draft agenda based on team priorities
- Send reminder messages automatically

**Implementation:**
```typescript
Agent Tools:
- getTeamAvailability()
- searchVenues()
- createPoll()
- sendScheduledMessage()
- extractTeamPreferences()
```

**Effort:** 8h  
**Rubric Points:** +10 (Advanced AI Capability)

#### Option B: Proactive Assistant
**Use Case:** Auto-suggest meeting times when scheduling is detected

**Assistant Capabilities:**
- Detect scheduling intent in messages
- Analyze participant availability
- Suggest optimal meeting times
- Draft calendar invites
- Handle RSVP tracking

**Effort:** 6h  
**Rubric Points:** +10 (Advanced AI Capability)

**Recommendation:** **Option A (Multi-Step Agent)** - More impressive demo, showcases autonomy

---

**Early Submission Demo Video (End of Phase 3):**
- **5-7 minute comprehensive demo video** for early submission consideration
- Must showcase all MVP features + all 5 AI features + advanced agent
- Demonstrates complete working application
- **Target: End of Day 5 (Friday, Oct 24)**
- This video can be refined for final submission if needed

---

### Phase 4: Polish & Optimization (Day 6 - Oct 25)

**Focus:** Production-quality UX and edge case handling

| Task | Description | Effort | Impact |
|------|-------------|--------|--------|
| **UX Polish** |
| Message animations | Smooth send/receive animations | 2h | High |
| Typing indicators | Show when users are typing | 2h | Medium |
| Loading states | Skeleton screens, spinners | 2h | High |
| Error handling | Graceful error messages | 2h | High |
| **Performance** |
| Message pagination | Load messages in batches | 3h | High |
| Image optimization | Compress uploads | 2h | Medium |
| Offline queue UI | Show pending messages | 2h | High |
| **Testing** |
| Test offline scenarios | Airplane mode, poor network | 2h | Critical |
| Test app lifecycle | Background, foreground, force-quit | 2h | Critical |
| Test rapid-fire messages | 20+ messages quickly | 1h | Medium |
| Test group chat (5+ users) | Multi-user scenarios | 2h | High |

**Total Phase 4 Effort:** ~22h (spread across day 6)

---

### Phase 5: Demo & Submission (Day 7 - Oct 26)

**Sunday Oct 26: Final Polish & Submission**
- [ ] Fix any remaining bugs
- [ ] Test on multiple devices
- [ ] Prepare demo script
- [ ] Take screenshots
- [ ] Write Persona Brainlift document
- [ ] Record demo video (5-7 minutes)
- [ ] Write comprehensive README
- [ ] Create social media post
- [ ] Submit all deliverables

---

## Rubric Alignment Strategy (95+/105)

### Point Allocation Breakdown

| Category | Max Points | Target | Strategy |
|----------|------------|--------|----------|
| **Messaging Core** | 40 | 40 | Perfect execution of all MVP features |
| **Real-Time Sync** | 15 | 15 | Firebase handles this natively |
| **Offline Support** | 10 | 10 | Firestore offline persistence + SQLite |
| **Group Chat** | 10 | 10 | Full implementation with attribution |
| **Push Notifications** | 5 | 5 | Expo Notifications + FCM |
| **5 Required AI Features** | 25 | 25 | All implemented and demoed |
| **1 Advanced AI Feature** | 10 | 10 | Multi-step agent |
| **Code Quality** | 10 | 8 | TypeScript, clean architecture |
| **UX/UI** | 10 | 9 | Polished, responsive, intuitive |
| **Demo Video** | 5 | 5 | Professional, comprehensive |
| **Documentation** | 5 | 5 | Clear README + Brainlift |
| **TOTAL** | **105** | **97+** | **Buffer: 2-3 points** |

### Risk Mitigation Strategy

**High-Risk Areas (Protect These):**
1. **Real-time sync** - Use Firebase (proven solution)
2. **Offline support** - Firestore handles automatically
3. **Push notifications** - Expo SDK makes this easy
4. **AI feature reliability** - Build fallbacks, handle errors
5. **App lifecycle** - Test extensively on real devices

**Point Protection Plan:**
- Build MVP first by Day 2 (40 points secured)
- Test messaging thoroughly before adding AI (55 points secured)
- Implement all 5 AI features by Day 4 (80 points secured)
- Complete advanced agent by Day 5 ‚≠ê TARGET (95+ points secured)
- Use Days 6-7 for polish, testing, and demo video

---

## Strategic Feature Separation

### Rubric-Required Features (Must-Have)

**Messaging Core (40 points)**
- [ ] One-on-one chat with real-time delivery
- [ ] Message persistence (local + cloud)
- [ ] Optimistic UI updates
- [ ] Online/offline status indicators
- [ ] Message timestamps
- [ ] Read receipts
- [ ] Group chat (3+ users)
- [ ] User authentication
- [ ] Push notifications

**AI Features (35 points)**
- [ ] Thread summarization
- [ ] Action item extraction
- [ ] Smart search (semantic)
- [ ] Priority message detection
- [ ] Decision tracking
- [ ] Multi-step agent OR proactive assistant

**Deployment & Documentation (10 points)**
- [ ] Deployed backend (Firebase)
- [ ] Expo Go / EAS Build working
- [ ] Demo video (5-7 minutes)
- [ ] Comprehensive README
- [ ] Persona Brainlift document

**Code Quality (10 points)**
- [ ] TypeScript with strict mode
- [ ] Clean component architecture
- [ ] Error handling and loading states
- [ ] No console errors in production

**UX/UI (10 points)**
- [ ] Responsive, intuitive design
- [ ] Smooth animations
- [ ] Loading indicators
- [ ] Error messages

---

### üéÅ WhatsApp-Inspired Features (Nice-to-Have)

**Only implement if ahead of schedule:**

| Feature | Value | Effort | Priority |
|---------|-------|--------|----------|
| Voice messages | High | 4h | P1 |
| Image/video messages | High | 3h | P1 |
| Message reactions (emoji) | Medium | 2h | P2 |
| Reply/quote messages | Medium | 3h | P2 |
| Typing indicators | High | 2h | P1 |
| Message editing | Low | 3h | P3 |
| Message deletion | Low | 2h | P3 |
| Link previews | Low | 4h | P3 |
| Disappearing messages | Low | 3h | P3 |

**Implementation Rule:**
> Only add WhatsApp-inspired features AFTER all rubric requirements are complete and tested.

---

## Technical Architecture

### System Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    React Native App                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Auth Layer  ‚îÇ  ‚îÇ  Chat UI     ‚îÇ  ‚îÇ  AI Features ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Firebase)  ‚îÇ  ‚îÇ  (Components)‚îÇ  ‚îÇ  (AI Chat)   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ           State Management (Zustand)              ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ SQLite       ‚îÇ  ‚îÇ Expo SDK     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Real-time)  ‚îÇ  ‚îÇ (Offline)    ‚îÇ  ‚îÇ (Notifs)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Firebase Backend                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Firestore    ‚îÇ  ‚îÇ Auth         ‚îÇ  ‚îÇ FCM          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Database)   ‚îÇ  ‚îÇ (Users)      ‚îÇ  ‚îÇ (Push)       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ         Cloud Functions (AI Endpoints)            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ summarizeThread()                              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ extractActionItems()                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ searchConversations()                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ detectPriority()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ trackDecisions()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ multiStepAgent()                               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     AI Services                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ OpenAI       ‚îÇ  ‚îÇ Pinecone     ‚îÇ  ‚îÇ AI SDK       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (GPT-4)      ‚îÇ  ‚îÇ (Vector DB)  ‚îÇ  ‚îÇ (Vercel)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Models

#### User
```typescript
interface User {
  id: string;
  email: string;
  displayName: string;
  avatarUrl?: string;
  status: 'online' | 'offline' | 'away';
  lastSeen: Timestamp;
  fcmToken?: string;
  createdAt: Timestamp;
}
```

#### Conversation
```typescript
interface Conversation {
  id: string;
  type: 'direct' | 'group';
  participants: string[]; // user IDs
  lastMessage: {
    text: string;
    senderId: string;
    timestamp: Timestamp;
  };
  unreadCount: Record<string, number>; // userId -> count
  createdAt: Timestamp;
  updatedAt: Timestamp;
  
  // Group chat specific
  name?: string;
  avatarUrl?: string;
}
```

#### Message
```typescript
interface Message {
  id: string;
  conversationId: string;
  senderId: string;
  text: string;
  timestamp: Timestamp;
  status: 'sending' | 'sent' | 'delivered' | 'read';
  readBy: string[]; // user IDs
  
  // Optional
  replyTo?: string; // message ID
  mediaUrl?: string;
  mediaType?: 'image' | 'video' | 'audio';
  
  // AI metadata
  priority?: 'low' | 'normal' | 'high' | 'urgent';
  actionItems?: string[];
  decisions?: string[];
}
```

#### AIInteraction
```typescript
interface AIInteraction {
  id: string;
  userId: string;
  conversationId?: string;
  type: 'summarize' | 'extract_actions' | 'search' | 'detect_priority' | 'track_decisions' | 'agent';
  input: any;
  output: any;
  timestamp: Timestamp;
  durationMs: number;
}
```

---

## Project Timeline

### Week Overview: Oct 20-26, 2025

```
PHASE 1: MVP FOUNDATION (HARD DEADLINE: Oct 21, 11:59 PM)
Day 1 (Mon):  MVP Core - Authentication & Basic Chat
Day 2 (Tue):  MVP Complete - Group Chat, Notifications, Push ‚ö†Ô∏è HARD GATE
              + MVP Demo Video (3-5 min) - DUE 11:59 PM

PHASE 2: AI FOUNDATION
Day 3 (Wed):  AI Features 1-3 (Summarize, Actions, Search)
Day 4 (Thu):  AI Features 4-5 + RAG Pipeline

PHASE 3: ADVANCED AI
Day 5 (Fri):  Advanced Agent (Multi-Step Planning) ‚≠ê TARGET COMPLETION
              + Early Submission Demo Video (5-7 min)

PHASE 4: POLISH & OPTIMIZATION
Day 6 (Sat):  Polish, Testing, Edge Cases

PHASE 5: SUBMISSION
Day 7 (Sun):  Final Demo Video, Documentation, Submission
```

### Detailed Daily Breakdown

#### **Day 1: Monday, Oct 20** (PHASE 1 - MVP Core - 10 hours)
**Goal:** Basic chat working between 2 devices  
**Phase:** Phase 1 - MVP Foundation (Day 1 of 2)

**Morning (4h):**
- [ ] 1h - Project setup (Expo, Firebase, dependencies)
- [ ] 1h - Firebase Auth implementation (Email + Google)
- [ ] 1h - User profile creation and management
- [ ] 1h - Basic UI scaffolding (navigation, screens)

**Afternoon (6h):**
- [ ] 2h - Firestore message schema and security rules
- [ ] 2h - One-on-one chat UI (send/receive messages)
- [ ] 2h - Real-time message delivery (Firestore listeners)

**Evening:**
- [ ] Test on 2 real devices
- [ ] Verify messages sync in real-time

**Success Criteria:**
- User can sign up/login  
- Send message from Device A ‚Üí appears on Device B instantly  
- Messages persist after app restart

---

#### **Day 2: Tuesday, Oct 21** (PHASE 1 - MVP Complete - 10 hours)
**Goal:** Pass MVP checkpoint - all hard gate requirements met  
**Phase:** Phase 1 - MVP Foundation (Day 2 of 2)  
**üî¥ HARD DEADLINE: 11:59 PM - ALL MVP FEATURES MUST BE COMPLETE**

**Morning (5h):**
- [ ] 2h - Message persistence (Expo SQLite + offline queue)
- [ ] 2h - Optimistic UI updates
- [ ] 1h - Online/offline status indicators

**Afternoon (5h):**
- [ ] 2h - Message timestamps and read receipts
- [ ] 3h - Group chat functionality (3+ users)

**Evening:**
- [ ] 1h - Push notifications (Expo Notifications + FCM)
- [ ] 1h - Test all MVP requirements on 2+ devices
- [ ] 1h - Deploy to Expo Go

**Late Evening (MUST COMPLETE BY 11:59 PM):**
- [ ] 2h - Record MVP demo video (3-5 minutes)
  - [ ] Show real-time messaging between 2 devices
  - [ ] Demonstrate offline/online scenarios
  - [ ] Show group chat with 3+ users
  - [ ] Show push notifications working
- [ ] 30m - Quick edit and upload demo video

**Success Criteria:**
- All 11 MVP requirements complete  
- Tested on 2+ devices  
- Push notifications working  
- Group chat with 3+ users working  
- Offline scenarios handled gracefully
- **MVP demo video recorded and submitted**

**üî¥ CHECKPOINT: MVP features AND demo video must be complete by 11:59 PM - NO AI WORK BEGINS UNTIL THIS GATE PASSES**

---

#### **Day 3: Wednesday, Oct 22** (PHASE 2 - AI Features 1-3 - 10 hours)
**Goal:** 3 of 5 required AI features working  
**Phase:** Phase 2 - AI Foundation (Day 1 of 2)

**Morning (6h):**
- [ ] 2h - Firebase Cloud Functions setup
- [ ] 2h - AI SDK integration (OpenAI)
- [ ] 2h - AI chat interface UI

**Afternoon (4h):**
- [ ] 3h - **Feature 1:** Thread Summarization
- [ ] 1h - Testing and refinement

**Evening:**
- [ ] 3h - **Feature 2:** Action Item Extraction
- [ ] 1h - **Feature 3:** Smart Search (basic implementation)

**Success Criteria:**
- AI chat interface working  
- Can summarize long threads  
- Can extract action items  
- Basic search functionality

---

#### **Day 4: Thursday, Oct 23** (PHASE 2 - AI Features 4-5 + RAG - 10 hours)
**Goal:** Complete all 5 AI features with RAG pipeline  
**Phase:** Phase 2 - AI Foundation (Day 2 of 2)

**Morning (4h):**
- [ ] 2h - **Feature 4:** Priority Message Detection
- [ ] 2h - **Feature 5:** Decision Tracking

**Afternoon (6h):**
- [ ] 4h - Pinecone RAG pipeline for semantic search
- [ ] 2h - Integrate RAG with smart search feature

**Evening:**
- [ ] Test all 5 AI features end-to-end
- [ ] Verify RAG search accuracy
- [ ] Prepare for advanced agent implementation

**Success Criteria:**
- All 5 required AI features complete  
- RAG pipeline working (semantic search functional)
- All AI features tested with realistic data

---

#### **Day 5: Friday, Oct 24** ‚≠ê (PHASE 3 - Advanced AI Agent - 10 hours)
**Goal:** Implement multi-step agent with autonomy - **TARGET COMPLETION DATE**  
**Phase:** Phase 3 - Advanced AI Capability  
**üéØ All features complete by end of day - Days 6-7 are buffer for polish/submission**

**Morning (4h):**
- [ ] 2h - Design agent tool functions (getTeamMembers, checkAvailability, etc.)
- [ ] 2h - Implement AI SDK tool calling infrastructure

**Afternoon (4h):**
- [ ] 3h - Build multi-step agent (team offsite planning use case)
- [ ] 1h - Create agent UI and conversation flow

**Evening (2h):**
- [ ] 1h - Test agent with realistic scenarios
- [ ] 1h - Refine agent prompts and error handling

**Late Evening (Early Submission Prep - 3h):**
- [ ] 30m - Final end-to-end testing of all features
- [ ] 2h - Record early submission demo video (5-7 minutes)
  - [ ] Demonstrate all MVP features (messaging, groups, notifications)
  - [ ] Show all 5 AI features (summarize, actions, search, priority, decisions)
  - [ ] Showcase advanced agent (multi-step planning)
  - [ ] Explain persona and how features solve user problems
- [ ] 30m - Quick edit and upload for early submission consideration

**Success Criteria:**
- Advanced agent can execute multi-step tasks autonomously
- Agent uses tools effectively (5+ tool calls)
- Agent handles errors and asks for clarification gracefully
- Agent demo-ready with impressive use case
- **ALL FEATURES COMPLETE:** MVP + 5 AI features + Advanced Agent = 95+ points secured
- **Early submission demo video recorded** (can be refined later if needed)

---

#### **Day 6: Saturday, Oct 25** (PHASE 4 - Polish & Testing - 12 hours)
**Goal:** Production-ready quality - buffer day for edge cases  
**Phase:** Phase 4 - Polish & Optimization

**Morning (4h):**
- [ ] 2h - UX polish (animations, loading states, error handling)
- [ ] 2h - Performance optimization (message pagination, image compression)

**Afternoon (4h):**
- [ ] 2h - Typing indicators + message animations
- [ ] 2h - Test offline scenarios thoroughly

**Evening (4h):**
- [ ] 1h - Test app lifecycle (background, foreground, force-quit)
- [ ] 1h - Test rapid-fire messages & group chat (5+ users)
- [ ] 1h - Fix any remaining bugs
- [ ] 1h - Final build and deployment

**Success Criteria:**
- All edge cases handled  
- No console errors  
- Smooth, polished UX  
- All tests passing  
- Ready for demo

---

#### **Day 7: Sunday, Oct 26** (PHASE 5 - Demo & Submission - 8 hours)
**Goal:** Submit all deliverables by 11:59 PM  
**Phase:** Phase 5 - Demo & Submission  
**üî¥ FINAL DEADLINE: 11:59 PM CT**

**Morning (5h):**
- [ ] 1h - Test on multiple devices, screenshot key features
- [ ] 3h - Refine/re-record final demo video (5-7 minutes)
  - [ ] Can improve early submission video from Day 5
  - [ ] Or record fresh video with polished features
- [ ] 1h - Edit and polish video for final submission

**Afternoon (3h):**
- [ ] 1h - Write Persona Brainlift document
- [ ] 1h - Write comprehensive README
- [ ] 1h - Create social media post & final submission checklist

**Submit by 11:59 PM CT:**
- [ ] GitHub repository (public)
- [ ] Demo video (YouTube/Loom)
- [ ] Expo Go link / EAS Build link
- [ ] Persona Brainlift document
- [ ] Social media post

---

## AI Features: Detailed Specifications

### Feature 1: Thread Summarization

**User Story:**
> "As a remote team professional, I want to quickly understand what happened in a long thread while I was away, so I can catch up without reading 100+ messages."

**Implementation:**
```typescript
// Cloud Function
async function summarizeThread(conversationId: string, lastReadMessageId?: string) {
  // 1. Fetch messages since last read (or last 50)
  const messages = await getMessages(conversationId, lastReadMessageId);
  
  // 2. Build prompt with conversation context
  const prompt = `
    You are summarizing a team conversation. Focus on:
    - Key topics discussed
    - Important decisions made
    - Action items assigned
    - Questions raised
    
    Conversation:
    ${formatMessages(messages)}
    
    Provide a concise bullet-point summary (max 5 points).
  `;
  
  // 3. Call OpenAI
  const summary = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return summary.choices[0].message.content;
}
```

**UI Flow:**
1. Long-press conversation ‚Üí "Summarize Thread"
2. Loading indicator (1-2 seconds)
3. Display summary in overlay modal
4. Option to "View Full Thread" or "Mark as Read"

**Test Cases:**
- [ ] Summarize 50+ message thread
- [ ] Summarize group chat with multiple topics
- [ ] Handle empty conversation gracefully
- [ ] Summarize with only emoji messages

---

### Feature 2: Action Item Extraction

**User Story:**
> "As a remote team professional, I want to automatically extract action items from conversations, so nothing falls through the cracks."

**Implementation:**
```typescript
async function extractActionItems(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 50);
  
  const prompt = `
    Extract action items from this team conversation.
    For each action item, identify:
    - Task description
    - Assigned to (person's name or @mention)
    - Due date (if mentioned)
    - Priority (high/medium/low)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "Extract action items from [conversation name]"
2. Display action items in list format
3. Option to export to calendar/task manager
4. Mark items as complete

**Test Cases:**
- [ ] Extract from conversation with multiple tasks
- [ ] Handle ambiguous assignments ("someone should...")
- [ ] Detect implicit deadlines ("by Friday")
- [ ] Handle conversation with no action items

---

### Feature 3: Smart Search (Semantic)

**User Story:**
> "As a remote team professional, I want to search conversations by meaning, not just keywords, so I can find that discussion about 'improving deployment process' even if we used different words."

**Implementation:**
```typescript
// RAG Pipeline with Pinecone

// 1. Index messages as they're sent
async function indexMessage(message: Message) {
  const embedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: message.text,
  });
  
  await pinecone.upsert({
    id: message.id,
    values: embedding.data[0].embedding,
    metadata: {
      conversationId: message.conversationId,
      senderId: message.senderId,
      timestamp: message.timestamp,
      text: message.text,
    },
  });
}

// 2. Semantic search
async function searchConversations(query: string, userId: string) {
  // Get query embedding
  const queryEmbedding = await openai.embeddings.create({
    model: 'text-embedding-3-small',
    input: query,
  });
  
  // Search Pinecone
  const results = await pinecone.query({
    vector: queryEmbedding.data[0].embedding,
    topK: 10,
    filter: {
      participants: { $in: [userId] }, // Only search user's conversations
    },
  });
  
  return results.matches.map(m => m.metadata);
}
```

**UI Flow:**
1. Search bar ‚Üí "What are you looking for?"
2. Enter query: "deployment discussions"
3. See results grouped by conversation
4. Tap to jump to message in context

**Test Cases:**
- [ ] Search with synonyms ("meeting" finds "call", "standup")
- [ ] Search across multiple conversations
- [ ] Handle typos gracefully
- [ ] Search with context ("deployment issues last week")

---

### Feature 4: Priority Message Detection

**User Story:**
> "As a remote team professional, I want urgent messages flagged automatically, so I don't miss critical updates."

**Implementation:**
```typescript
async function detectPriority(message: Message) {
  const prompt = `
    Analyze this message and determine its priority level for a remote team professional.
    
    Consider:
    - Urgency indicators (ASAP, urgent, critical, blocker)
    - Time sensitivity (deadlines, meetings)
    - Impact keywords (production, outage, security)
    - Question marks directed at user
    
    Message: "${message.text}"
    Sender: ${message.senderName}
    Context: ${message.conversationName}
    
    Return priority: urgent | high | normal | low
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
  });
  
  return response.choices[0].message.content.trim();
}
```

**UI Flow:**
1. Real-time: Message arrives with priority badge
2. Urgent messages show notification even if muted
3. Priority filter in conversation list
4. Daily digest of high-priority messages

**Test Cases:**
- [ ] Detect "URGENT: Production is down"
- [ ] Detect "@username can you review this today?"
- [ ] Ignore casual "hey how's it going"
- [ ] Handle false positives (don't over-flag)

---

### Feature 5: Decision Tracking

**User Story:**
> "As a remote team professional, I want key decisions automatically tracked, so I can reference 'what did we decide about X?'"

**Implementation:**
```typescript
async function trackDecisions(conversationId: string) {
  const messages = await getRecentMessages(conversationId, 100);
  
  const prompt = `
    Extract key decisions from this team conversation.
    
    A decision is when the team:
    - Agrees on an approach
    - Makes a choice between options
    - Commits to a specific action
    - Resolves a debate
    
    For each decision:
    - What was decided?
    - Who made/approved the decision?
    - When? (timestamp)
    - Why? (rationale if mentioned)
    
    Conversation:
    ${formatMessages(messages)}
    
    Return as JSON array.
  `;
  
  const response = await openai.chat.completions.create({
    model: 'gpt-4-turbo',
    messages: [{ role: 'user', content: prompt }],
    response_format: { type: 'json_object' },
  });
  
  return JSON.parse(response.choices[0].message.content);
}
```

**UI Flow:**
1. AI Chat ‚Üí "What decisions were made in [conversation]?"
2. Display decisions timeline
3. Link to original messages
4. Export decisions log

**Test Cases:**
- [ ] Track decision: "Let's go with option B"
- [ ] Track consensus: "Everyone agrees to ship Friday"
- [ ] Ignore non-decisions: "What do you think?"
- [ ] Handle changed decisions (new decision supersedes old)

---

## Advanced AI Feature: Multi-Step Agent

### Use Case: Team Offsite Planning

**User Story:**
> "As a remote team professional, I want an AI agent that can autonomously plan a team offsite by checking availability, suggesting locations, and coordinating logistics."

**Agent Flow:**
```
User: "Plan a team offsite for next month"
  ‚Üì
Agent: Analyzing request...
  ‚Üì
Agent executes tools:
1. getTeamMembers(conversationId)
2. checkAvailability(members, dateRange)
3. suggestLocations(teamLocations, budget)
4. createPoll(dates)
5. draftAgenda(teamGoals)
  ‚Üì
Agent: "I've found that March 15-17 works for 8/10 team members.
        Based on your team's locations, I suggest Austin, TX.
        I've created a poll for final date selection.
        Would you like me to draft an agenda?"
```

**Implementation with AI SDK:**
```typescript
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const tools = {
  getTeamMembers: {
    description: 'Get list of team members in a conversation',
    parameters: z.object({
      conversationId: z.string(),
    }),
    execute: async ({ conversationId }) => {
      // Fetch from Firestore
      return await getConversationParticipants(conversationId);
    },
  },
  
  checkAvailability: {
    description: 'Check team availability for a date range',
    parameters: z.object({
      members: z.array(z.string()),
      startDate: z.string(),
      endDate: z.string(),
    }),
    execute: async ({ members, startDate, endDate }) => {
      // Query calendar API or ask via message
      return await analyzeAvailability(members, startDate, endDate);
    },
  },
  
  suggestLocations: {
    description: 'Suggest meeting locations based on team geography',
    parameters: z.object({
      teamLocations: z.array(z.string()),
      budget: z.string().optional(),
    }),
    execute: async ({ teamLocations, budget }) => {
      // Calculate midpoint, consider costs
      return await findOptimalLocations(teamLocations, budget);
    },
  },
  
  createPoll: {
    description: 'Create a poll in the conversation',
    parameters: z.object({
      question: z.string(),
      options: z.array(z.string()),
    }),
    execute: async ({ question, options }) => {
      // Create Firestore poll document
      return await createConversationPoll(question, options);
    },
  },
  
  sendMessage: {
    description: 'Send a message to the conversation',
    parameters: z.object({
      text: z.string(),
    }),
    execute: async ({ text }) => {
      return await sendAgentMessage(text);
    },
  },
};

// Agent execution
async function multiStepAgent(userRequest: string, conversationId: string) {
  const result = await generateText({
    model: openai('gpt-4-turbo'),
    tools: tools,
    maxSteps: 10, // Allow multi-step reasoning
    system: `
      You are a team planning assistant for remote professionals.
      Your goal is to help plan team events by:
      1. Understanding the request
      2. Gathering necessary information
      3. Making intelligent suggestions
      4. Taking actions on behalf of the user
      5. Asking for clarification when needed
      
      Be proactive, friendly, and efficient.
    `,
    prompt: userRequest,
  });
  
  return result;
}
```

**UI Flow:**
1. AI Chat ‚Üí "Plan a team offsite for next month"
2. Agent shows thinking steps: "Checking team availability..."
3. Agent uses tools and reports progress
4. User can interrupt or provide feedback
5. Agent completes task and confirms

**Test Cases:**
- [ ] Agent completes full planning flow
- [ ] Agent asks for clarification when needed
- [ ] Agent handles missing information gracefully
- [ ] User can cancel agent mid-execution

---

## Testing Strategy

### Testing Scenarios (From Assignment)

#### Scenario 1: Two Devices Chatting in Real-Time
**Setup:** Device A (iPhone) + Device B (Android emulator)  
**Steps:**
1. Login as User A on Device A
2. Login as User B on Device B
3. Start conversation
4. Send 10 messages back and forth
5. Verify instant delivery (<500ms)

**Success Criteria:**
- Messages appear instantly
- No dropped messages
- Correct sender attribution
- Read receipts update in real-time

---

#### Scenario 2: Offline Message Queue
**Setup:** Device A (online) + Device B (offline)  
**Steps:**
1. Device B: Turn on airplane mode
2. Device A: Send 5 messages to B
3. Device B: Turn off airplane mode
4. Verify messages arrive in correct order

**Success Criteria:**
- Messages queue on server
- Messages deliver when B comes online
- Correct message order maintained
- Read receipts work after reconnect

---

#### Scenario 3: Background Message Handling
**Setup:** Device A (backgrounded app)  
**Steps:**
1. Device A: Send message, then background app
2. Device B: Reply to message
3. Device A: Verify push notification
4. Device A: Open app from notification
5. Verify taken to correct conversation

**Success Criteria:**
- Push notification appears
- Notification has correct message preview
- Tapping notification opens conversation
- Message count badge updates

---

#### Scenario 4: App Lifecycle Persistence
**Setup:** Device A (force quit)  
**Steps:**
1. Device A: Have conversation with 20 messages
2. Device A: Force quit app (swipe up)
3. Device A: Reopen app
4. Verify all messages still there

**Success Criteria:**
- All messages persisted
- Conversation list shows correct state
- No data loss
- Unread counts preserved

---

#### Scenario 5: Poor Network Conditions
**Setup:** Device A (throttled 3G)  
**Steps:**
1. Device A: Enable network throttling (3G)
2. Device A: Send 10 messages rapidly
3. Verify optimistic UI
4. Verify eventual delivery

**Success Criteria:**
- Messages show "sending" state
- Messages eventually send
- Retry on failure
- Error handling if network totally fails

---

#### Scenario 6: Rapid-Fire Messages
**Setup:** Device A (stress test)  
**Steps:**
1. Device A: Send 20+ messages rapidly (1 per second)
2. Device B: Verify all messages arrive
3. Check no duplicates or missing messages

**Success Criteria:**
- All messages delivered
- Correct order maintained
- No duplicates
- No performance degradation

---

#### Scenario 7: Group Chat (3+ Participants)
**Setup:** Device A, B, C (3 users)  
**Steps:**
1. Create group chat with A, B, C
2. Each user sends 3 messages
3. Verify all users see all messages
4. Check read receipts (X read by Y and Z)

**Success Criteria:**
- All messages visible to all participants
- Correct sender attribution
- Read receipts show who read what
- Group chat list updates for all users

---

## Risk Assessment & Mitigation

### Technical Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Firebase quota limits** | Medium | High | Monitor usage, implement caching |
| **OpenAI API costs** | Medium | Medium | Cache responses, rate limit |
| **Real-time sync reliability** | Low | Critical | Use Firebase (proven solution) |
| **Offline persistence bugs** | Medium | High | Test extensively on real devices |
| **Push notifications on iOS** | High | Medium | Use Expo's managed workflow |
| **AI feature accuracy** | Medium | Medium | Iterate on prompts, add fallbacks |
| **Build/deployment issues** | Medium | High | Test builds early (Day 3) |

### Schedule Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **MVP takes longer than 2 days** | Medium | Critical | Parallelize work, cut scope |
| **AI features more complex than expected** | High | High | Start simple, iterate |
| **Demo video production delays** | Low | Medium | Prepare script early |
| **Testing reveals major bugs on Day 6** | Medium | High | Test continuously, not just at end |

### Scope Risks

| Risk | Probability | Impact | Mitigation |
|------|-------------|--------|------------|
| **Feature creep** | High | Medium | Stick to rubric requirements first |
| **Over-engineering** | Medium | Medium | Build vertically, ship incrementally |
| **Perfectionism** | High | Low | "Good enough" > perfect but late |

---

## Success Metrics

### Quantitative Metrics

**Messaging Performance:**
- Message send latency: <500ms (optimistic UI)
- Message delivery rate: 100% (online scenarios)
- Offline queue success rate: 100%
- App crash rate: <1%

**AI Performance:**
- AI response time: <3 seconds
- AI accuracy: >85% (subjective, based on demo)
- RAG retrieval accuracy: >90%

**Development Velocity:**
- MVP complete: Day 2 (Oct 21)
- All AI features (5 required): Day 4 (Oct 23)
- All features complete (incl. advanced agent): Day 5 (Oct 24) ‚≠ê TARGET
- Production-ready: Day 6 (Oct 25)

### Qualitative Metrics

**UX Quality:**
- Smooth animations (60 FPS)
- Intuitive navigation
- Clear error messages
- Professional visual design

**Code Quality:**
- TypeScript strict mode (no `any`)
- Clean component architecture
- Comprehensive error handling
- Readable, maintainable code

**Documentation Quality:**
- Comprehensive README
- Clear setup instructions
- Persona Brainlift document
- Professional demo video

---

## Deliverables Checklist

### MVP Demo Video (3-5 minutes) - DUE Oct 21, 11:59 PM üî¥
- [ ] Real-time messaging demonstration (2 devices)
- [ ] Show one-on-one chat working
- [ ] Show group chat with 3+ users
- [ ] Demonstrate offline/online scenarios
- [ ] Show push notifications working
- [ ] Show read receipts and timestamps
- [ ] Brief explanation of tech stack
- [ ] **Must submit by Tuesday, Oct 21, 11:59 PM**

### GitHub Repository
- [ ] Public repository with clear name
- [ ] Comprehensive README with:
  - [ ] Project description
  - [ ] Tech stack
  - [ ] Setup instructions (step-by-step)
  - [ ] Environment variables needed
  - [ ] How to run locally
  - [ ] How to build for production
  - [ ] Demo video link
  - [ ] Screenshots
- [ ] Clean git history
- [ ] No API keys committed
- [ ] `.env.example` file
- [ ] Clear folder structure

### Early Submission Demo Video (5-7 minutes) - Target: End of Day 5
- [ ] Can be refined for final submission on Day 7
- [ ] Introduction (30 seconds)
  - [ ] Your name
  - [ ] Chosen persona (Remote Team Professional)
  - [ ] Value proposition
- [ ] Core Messaging Demo (2 minutes)
  - [ ] Real-time chat between 2 devices
  - [ ] Group chat with 3+ participants
  - [ ] Offline scenario (go offline, receive messages, come online)
  - [ ] App lifecycle (background, foreground, force quit)
- [ ] AI Features Demo (3 minutes)
  - [ ] Feature 1: Thread summarization with real example
  - [ ] Feature 2: Action item extraction
  - [ ] Feature 3: Smart search
  - [ ] Feature 4: Priority detection
  - [ ] Feature 5: Decision tracking
- [ ] Advanced Feature Demo (1 minute)
  - [ ] Multi-step agent planning team event
- [ ] Conclusion (30 seconds)
  - [ ] Key takeaways
  - [ ] Future improvements

### Final Demo Video (5-7 minutes) - DUE Oct 26, 11:59 PM
- [ ] Can be refined version of early submission video OR new recording
- [ ] Should showcase all features with polished UX
- [ ] Include any improvements made during Days 6-7

### Deployed Application
- [ ] Expo Go link OR EAS Build link
- [ ] Backend deployed to Firebase
- [ ] Test accounts provided in README
- [ ] Works on both iOS and Android (if possible)

### Persona Brainlift Document
- [ ] 1-page PDF or Markdown
- [ ] Chosen persona: Remote Team Professional
- [ ] Why this persona?
- [ ] Pain points addressed
- [ ] How each AI feature solves a real problem
- [ ] Key technical decisions
- [ ] What I learned

### Social Media Post
- [ ] Post on X (Twitter) OR LinkedIn
- [ ] Include:
  - [ ] Project description
  - [ ] Demo video link OR GIF
  - [ ] GitHub link
  - [ ] Hashtags: #GauntletAI #MessageAI #BuildInPublic
  - [ ] What you learned

---

## Appendix

### Recommended Dependencies

```json
{
  "dependencies": {
    "react": "18.2.0",
    "react-native": "0.74.5",
    "expo": "~51.0.0",
    "expo-router": "~3.5.0",
    
    "firebase": "^10.7.0",
    "@react-native-firebase/app": "^18.7.0",
    "@react-native-firebase/firestore": "^18.7.0",
    "@react-native-firebase/auth": "^18.7.0",
    "@react-native-firebase/storage": "^18.7.0",
    "@react-native-firebase/messaging": "^18.7.0",
    
    "expo-notifications": "~0.28.0",
    "expo-sqlite": "~14.0.0",
    "expo-image-picker": "~15.0.0",
    "expo-av": "~14.0.0",
    
    "zustand": "^4.4.7",
    "@tanstack/react-query": "^5.17.0",
    
    "react-native-paper": "^5.11.0",
    "react-native-vector-icons": "^10.0.3",
    
    "openai": "^4.20.0",
    "ai": "^3.0.0",
    "@ai-sdk/openai": "^0.0.20",
    "@pinecone-database/pinecone": "^1.1.0",
    
    "date-fns": "^3.0.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "@types/react": "~18.2.45",
    "@types/react-native": "~0.73.0",
    "typescript": "~5.3.3",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "jest": "^29.7.0",
    "@testing-library/react-native": "^12.4.0"
  }
}
```

### Environment Variables

```bash
# .env.example

# Firebase Configuration
EXPO_PUBLIC_FIREBASE_API_KEY=your_api_key
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
EXPO_PUBLIC_FIREBASE_APP_ID=your_app_id

# AI Services (Cloud Functions Only - DO NOT expose in app)
OPENAI_API_KEY=sk-...
PINECONE_API_KEY=...
PINECONE_ENVIRONMENT=...
PINECONE_INDEX_NAME=messageai-conversations
```

### Useful Resources

**Firebase:**
- [Firestore Real-Time Listeners](https://firebase.google.com/docs/firestore/query-data/listen)
- [Offline Data Persistence](https://firebase.google.com/docs/firestore/manage-data/enable-offline)
- [Cloud Functions for AI](https://firebase.google.com/docs/functions)

**Expo:**
- [Expo Notifications](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [Expo SQLite](https://docs.expo.dev/versions/latest/sdk/sqlite/)
- [Expo Router](https://docs.expo.dev/router/introduction/)

**AI SDK:**
- [Vercel AI SDK](https://sdk.vercel.ai/docs)
- [Tool Calling with AI SDK](https://sdk.vercel.ai/docs/ai-sdk-core/tools-and-tool-calling)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)

**RAG with Pinecone:**
- [Pinecone Quickstart](https://docs.pinecone.io/docs/quickstart)
- [OpenAI Embeddings](https://platform.openai.com/docs/guides/embeddings)

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | Oct 20, 2025 | Initial PRD - React Native + Expo + Firebase stack |

---

## Approval & Sign-Off

**Document Owner:** Gabriel (GratefulGabe5000)  
**Project:** MessageAI (Gauntlet Project Two)  
**Status:** üöÄ Ready to Build

---

**Next Steps:**
1. Review and approve this PRD
2. Set up project structure (Day 1 Morning)
3. Initialize Firebase project
4. Create initial Expo app
5. Begin MVP development

**Let's build something amazing! üöÄ**


```

Perfect! I've added the demo video requirements to both Phase 1 and Phase 3. Here's what was updated:

## üìπ Demo Video Requirements Added

### **Phase 1 (MVP) - DUE Oct 21, 11:59 PM üî¥**

**Added to Phase 1 Core Requirements Matrix:**
- MVP Demo Video Requirement section with detailed criteria
- Must demonstrate real-time messaging, offline scenarios, group chat
- 3-5 minute video required by hard deadline

**Added to Day 2 Detailed Breakdown:**
- **Late Evening section** (2.5 hours):
  - 2h - Record MVP demo video (3-5 minutes)
  - 30m - Quick edit and upload
  - Specific checklist of what to show
- Updated Success Criteria to include demo video completion
- Updated checkpoint warning to include demo video

### **Phase 3 (Early Submission) - Target: End of Day 5**

**Added to Phase 3 Overview:**
- Early Submission Demo Video section
- 5-7 minute comprehensive demo for early submission consideration
- Can be refined for final submission if needed

**Added to Day 5 Detailed Breakdown:**
- **Late Evening section** (3 hours):
  - 30m - Final end-to-end testing
  - 2h - Record early submission demo (5-7 minutes)
  - 30m - Quick edit and upload
  - Detailed checklist covering all features
- Updated Success Criteria to include early submission video

### **Timeline Overview Updated:**
```
Day 2 (Tue):  MVP Complete + MVP Demo Video (3-5 min) - DUE 11:59 PM
Day 5 (Fri):  Advanced Agent + Early Submission Demo Video (5-7 min)
Day 7 (Sun):  Final Demo Video (can refine Day 5 video)
```

### **Deliverables Checklist Updated:**
- **New:** MVP Demo Video (3-5 min) - DUE Oct 21, 11:59 PM üî¥
- **Updated:** Early Submission Demo Video (5-7 min) - Target: End of Day 5
- **Updated:** Final Demo Video can be refined from early submission

This ensures you have clear video milestones at the MVP gate and at target completion! üé¨üöÄ

```plaintext
Day 2 (Tue):  MVP Complete + MVP Demo Video (3-5 min) - DUE 11:59 PM
Day 5 (Fri):  Advanced Agent + Early Submission Demo Video (5-7 min)
Day 7 (Sun):  Final Demo Video (can refine Day 5 video)
```

